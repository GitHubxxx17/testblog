<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title data-rh="true">vue3笔记（四） | XXX17的个人博客</title>
    
    
    
    <link rel="icon" href="/fispo/logo.png" type="image/png">
    <meta name="description" content="学无止境">
    <link rel="stylesheet" href="/fispo/assets/client-entry-HfV3hKDZ.css">
  </head>
  <body>
    <div id="root"><div class="_loading_y2833_1"><div class="_loading-left-bg_y2833_8"></div><div class="_loading-right-bg_y2833_9"></div><div class="_spinner-box_y2833_15"><div class="_spinner-box-1_y2833_23"></div><div class="_spinner-box-2_y2833_24"></div><div class="_loading-text_y2833_38">加载中···</div></div></div><div class="_layout_1g63m_1" style="background-image:url(/bg.png)"><header class="_header_1g63m_9 _not-home-page_1g63m_15"><nav class="_nav_14t1j_1 _top_14t1j_57"><div class="_blog-name_14t1j_15"><a href="/fispo/#">XXX17的个人博客</a></div><div class="_menus_14t1j_27"><ul><li><a href="/fispo/"><span>首页</span></a></li><li><a href="/fispo/tag"><span>标签</span></a></li><li><a href="/fispo/category"><span>分类</span></a></li><li><a href="/fispo/about"><span>关于</span></a></li></ul></div></nav><div class="_banner_1hwpr_1 _not-home-page_1hwpr_64" style="background-image:url(/cover/f.png)"><div class="_banner-site-info_1hwpr_20"><div class="_banner-site-title_1hwpr_25">vue3笔记（四）</div><div class="_meta_1hwpr_33"><span>发表于 <!-- -->2023-02-27</span><span><a href="/fispo/category/笔记">笔记</a></span><span class="_content-tag_1hwpr_60"><a href="/fispo/tag/笔记">笔记</a><a href="/fispo/tag/vue">vue</a></span></div></div></div></header><main class="_main_1g63m_18"><div class="_mainInner_1g63m_24"><div class="_mainLeft_1g63m_33"><div class="_article-layout_zsltx_1"><div class="_article-content_zsltx_10"><h1 id="vue3简介"><a class="header-anchor" href="#vue3简介"><span class="icon icon-link"></span></a>Vue3简介</h1>
<p>vue3简介</p>
<!-- -->
<ol>
<li>打包大小减少41%</li>
<li>初次渲染快55%, 更新渲染快133%</li>
<li>内存减少54%</li>
</ol>
<!-- -->
<!-- -->
<p>使用<code>Proxy</code>代替<code>defineProperty</code>实现响应式<br/>
重写虚拟<code>DOM</code>的实现和<code>Tree-Shaking</code></p>
<!-- -->
<!-- -->
<p>Vue3可以更好的支持<code>TypeScript</code></p>
<!-- -->
<!-- -->
<ol>
<li>Composition API（组合API）<br/>
<code>setup</code>配置<br/>
<code>ref</code>与<code>reactive</code><br/>
<code>watch</code>与<code>watchEffect</code><br/>
<code>provide</code>与 <code>inject</code></li>
<li>新的内置组件<br/>
<code>Fragment</code><br/>
<code>Teleport</code><br/>
<code>Suspense</code></li>
<li>其他改变<br/>
新的生命周期钩子<br/>
<code>data</code>选项应始终被声明为一个函数<br/>
移除<code>keyCode</code>支持作为<code>v-on</code>的修饰符</li>
</ol>
<!-- -->
<h1 id="创建vue30工程"><a class="header-anchor" href="#创建vue30工程"><span class="icon icon-link"></span></a>创建Vue3.0工程</h1>
<h2 id="使用-vue-cli-创建官方文档vue-create"><a class="header-anchor" href="#使用-vue-cli-创建官方文档vue-create"><span class="icon icon-link"></span></a>使用 vue-cli 创建（<a href="https://cli.vuejs.org/zh/guide/creating-a-project.html#vue-create">官方文档vue-create</a>）</h2>
<div class="language-cmd"><div class="highlight-tools"><span class="lang">cmd</span></div><pre class="shiki nord" style="background-color:#2e3440ff" tabindex="0"><code><span class="line"><span style="color:#D8DEE9FF">## 查看@</span><span style="color:#D8DEE9">vue</span><span style="color:#D8DEE9FF">/cli版本，确保@</span><span style="color:#D8DEE9">vue</span><span style="color:#D8DEE9FF">/cli版本在4</span><span style="color:#B48EAD">.5</span><span style="color:#D8DEE9FF">.0以上</span></span>
<span class="line"><span style="color:#D8DEE9">vue</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">--</span><span style="color:#D8DEE9">version</span></span>
<span class="line"><span style="color:#D8DEE9FF">## 安装或者升级你的@</span><span style="color:#D8DEE9">vue</span><span style="color:#D8DEE9FF">/</span><span style="color:#D8DEE9">cli</span></span>
<span class="line"><span style="color:#D8DEE9FF">npm </span><span style="color:#D8DEE9">install</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">-</span><span style="color:#D8DEE9">g</span><span style="color:#D8DEE9FF"> @</span><span style="color:#D8DEE9">vue</span><span style="color:#D8DEE9FF">/</span><span style="color:#D8DEE9">cli</span></span>
<span class="line"><span style="color:#D8DEE9FF">## 创建</span></span>
<span class="line"><span style="color:#D8DEE9FF">vue create vue_test</span></span>
<span class="line"><span style="color:#D8DEE9FF">## 启动</span></span>
<span class="line"><span style="color:#D8DEE9FF">cd vue_test</span></span>
<span class="line"><span style="color:#D8DEE9FF">npm run serve</span></span>
<span class="line"></span></code></pre></div>
<h2 id="使用-vite-创建官方文档vite"><a class="header-anchor" href="#使用-vite-创建官方文档vite"><span class="icon icon-link"></span></a>使用 vite 创建（<a href="https://v3.cn.vuejs.org/guide/installation.html#vite">官方文档vite</a>）</h2>
<p><a href="https://vitejs.cn">vite官网</a></p>
<p>什么是vite？—— 新一代前端构建工具。<br/>
优势如下：</p>
<ol>
<li>开发环境中，无需打包操作，可快速的冷启动。</li>
<li>轻量快速的热重载（HMR）。</li>
<li>真正的按需编译，不再等待整个应用编译完成。</li>
</ol>
<p>传统（Webpack）构建与 Vite 构建对比图</p>
<p><img src="http://GitHubxxx17.github.io/img/vue/6.png" alt="" class="article-img"/><br/>
<img src="http://GitHubxxx17.github.io/img/vue/7.png" alt="" class="article-img"/></p>
<h1 id="分析文件目录"><a class="header-anchor" href="#分析文件目录"><span class="icon icon-link"></span></a>分析文件目录</h1>
<h2 id="mainjs"><a class="header-anchor" href="#mainjs"><span class="icon icon-link"></span></a>main.js</h2>
<!-- -->
<div class="language-javascript"><div class="highlight-tools"><span class="lang">javascript</span></div><pre class="shiki nord" style="background-color:#2e3440ff" tabindex="0"><code><span class="line"><span style="color:#81A1C1">import</span><span style="color:#D8DEE9FF"> </span><span style="color:#8FBCBB">Vue</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">from</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">vue</span><span style="color:#ECEFF4">&#x27;</span></span>
<span class="line"><span style="color:#81A1C1">import</span><span style="color:#D8DEE9FF"> </span><span style="color:#8FBCBB">App</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">from</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">./App.vue</span><span style="color:#ECEFF4">&#x27;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D8DEE9">Vue</span><span style="color:#ECEFF4">.</span><span style="color:#D8DEE9">config</span><span style="color:#ECEFF4">.</span><span style="color:#D8DEE9">productionTip</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">=</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">false</span></span>
<span class="line"></span>
<span class="line"><span style="color:#81A1C1">new</span><span style="color:#D8DEE9FF"> </span><span style="color:#88C0D0">Vue</span><span style="color:#D8DEE9FF">(</span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#88C0D0">render</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">h</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">=&gt;</span><span style="color:#D8DEE9FF"> </span><span style="color:#88C0D0">h</span><span style="color:#D8DEE9FF">(</span><span style="color:#D8DEE9">App</span><span style="color:#D8DEE9FF">)</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#ECEFF4">}</span><span style="color:#D8DEE9FF">)</span><span style="color:#ECEFF4">.</span><span style="color:#88C0D0">$mount</span><span style="color:#D8DEE9FF">(</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">#app</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#D8DEE9FF">)</span></span>
<span class="line"></span></code></pre></div>
<!-- -->
<!-- -->
<div class="language-javascript"><div class="highlight-tools"><span class="lang">javascript</span></div><pre class="shiki nord" style="background-color:#2e3440ff" tabindex="0"><code><span class="line"><span style="color:#616E88">// 引入的不再是Vue构造函数了，引入的是一个名为createApp的工厂函数</span></span>
<span class="line"><span style="color:#81A1C1">import</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span><span style="color:#D8DEE9FF"> </span><span style="color:#8FBCBB">createApp</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">}</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">from</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">vue</span><span style="color:#ECEFF4">&#x27;</span></span>
<span class="line"><span style="color:#81A1C1">import</span><span style="color:#D8DEE9FF"> </span><span style="color:#8FBCBB">App</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">from</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">./App.vue</span><span style="color:#ECEFF4">&#x27;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#616E88">// 创建应用实例对象——app(类似于之前Vue2中的vm，但app是轻量级（部分API），vm是重量级（所有的API）)</span></span>
<span class="line"><span style="color:#81A1C1">const</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">app</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">=</span><span style="color:#D8DEE9FF"> </span><span style="color:#88C0D0">createApp</span><span style="color:#D8DEE9FF">(</span><span style="color:#D8DEE9">App</span><span style="color:#D8DEE9FF">)</span></span>
<span class="line"><span style="color:#D8DEE9">console</span><span style="color:#ECEFF4">.</span><span style="color:#88C0D0">log</span><span style="color:#D8DEE9FF">(</span><span style="color:#D8DEE9">app</span><span style="color:#D8DEE9FF">)</span></span>
<span class="line"><span style="color:#616E88">// 挂载</span></span>
<span class="line"><span style="color:#D8DEE9">app</span><span style="color:#ECEFF4">.</span><span style="color:#88C0D0">mount</span><span style="color:#D8DEE9FF">(</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">#app</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#D8DEE9FF">)</span></span>
<span class="line"></span></code></pre></div>
<!-- -->
<h2 id="appvue"><a class="header-anchor" href="#appvue"><span class="icon icon-link"></span></a>App.vue</h2>
<p>我们再来看看组件，在<code>template</code>标签里可以没有根标签了</p>
<div class="language-html"><div class="highlight-tools"><span class="lang">html</span></div><pre class="shiki nord" style="background-color:#2e3440ff" tabindex="0"><code><span class="line"><span style="color:#81A1C1">&lt;template&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">	</span><span style="color:#616E88">&lt;!-- Vue3组件中的模板结构可以没有根标签 --&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">	</span><span style="color:#81A1C1">&lt;img</span><span style="color:#D8DEE9FF"> </span><span style="color:#8FBCBB">alt</span><span style="color:#ECEFF4">=</span><span style="color:#ECEFF4">&quot;</span><span style="color:#A3BE8C">Vue logo</span><span style="color:#ECEFF4">&quot;</span><span style="color:#D8DEE9FF"> </span><span style="color:#8FBCBB">src</span><span style="color:#ECEFF4">=</span><span style="color:#ECEFF4">&quot;</span><span style="color:#A3BE8C">./assets/logo.png</span><span style="color:#ECEFF4">&quot;</span><span style="color:#81A1C1">&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">	</span><span style="color:#81A1C1">&lt;</span><span style="color:#D8DEE9">HelloWorld</span><span style="color:#D8DEE9FF"> </span><span style="color:#8FBCBB">msg</span><span style="color:#ECEFF4">=</span><span style="color:#ECEFF4">&quot;</span><span style="color:#A3BE8C">Welcome to Your Vue.js App</span><span style="color:#ECEFF4">&quot;</span><span style="color:#81A1C1">/&gt;</span></span>
<span class="line"><span style="color:#81A1C1">&lt;/template&gt;</span></span>
<span class="line"></span></code></pre></div>
<h1 id="常用-composition-api"><a class="header-anchor" href="#常用-composition-api"><span class="icon icon-link"></span></a>常用 Composition API</h1>
<h2 id="setup"><a class="header-anchor" href="#setup"><span class="icon icon-link"></span></a>setup</h2>
<blockquote>
<ol>
<li>setup是Vue3中一个新的配置项，值为一个函数。</li>
</ol>
</blockquote>
<ol start="2">
<li>setup是所有Composition API（组合API） 表演的舞台 。</li>
<li>组件中所用到的：数据、方法等等配置项，均要配置在setup中。</li>
<li>setup函数的两种返回值：</li>
</ol>
<ul>
<li>若返回一个对象，则对象中的属性、方法，在模板（template标签）中均可以直接使用。(setup中的重点)</li>
<li>若返回一个渲染函数：则可以自定义渲染内容。（了解的内容）</li>
</ul>
<p><strong>注意点</strong>：</p>
<ol>
<li>尽量不要与Vue2的配置混用</li>
</ol>
<ul>
<li>Vue2.x配置（data、methos、computed…）中可以访问到setup中的属性、方法。</li>
<li>但在setup中不能访问到Vue2.x配置（data、methos、computed…）。</li>
<li>如果有重名, setup优先。</li>
</ul>
<ol start="2">
<li>setup不能是一个async函数，因为返回值不再是return的对象, 而是promise, 模板看不到return对象中的属性。（后期也可以返回一个Promise实例，但需要Suspense和异步组件的配合）</li>
</ol>
<p>setup函数配置具体实现：</p>
<div class="language-javascript"><div class="highlight-tools"><span class="lang">javascript</span></div><pre class="shiki nord" style="background-color:#2e3440ff" tabindex="0"><code><span class="line"><span style="color:#81A1C1">&lt;!--</span><span style="color:#D8DEE9">Vue3的setup函数配置</span><span style="color:#81A1C1">--&gt;</span></span>
<span class="line"><span style="color:#81A1C1">&lt;template&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#81A1C1">&lt;h1&gt;</span><span style="color:#D8DEE9FF">Vue3的setup配置</span><span style="color:#81A1C1">&lt;/h1&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#81A1C1">&lt;h2&gt;</span><span style="color:#D8DEE9FF">姓名：</span><span style="color:#81A1C1">{</span><span style="color:#ECEFF4">{</span><span style="color:#D8DEE9">username</span><span style="color:#ECEFF4">}</span><span style="color:#81A1C1">}&lt;/h2&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#81A1C1">&lt;h2&gt;</span><span style="color:#D8DEE9FF">性别：</span><span style="color:#81A1C1">{</span><span style="color:#ECEFF4">{</span><span style="color:#D8DEE9">sex</span><span style="color:#ECEFF4">}</span><span style="color:#81A1C1">}&lt;/h2&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#81A1C1">&lt;h2&gt;</span><span style="color:#D8DEE9FF">个人介绍：我是</span><span style="color:#81A1C1">{</span><span style="color:#ECEFF4">{</span><span style="color:#D8DEE9">username</span><span style="color:#ECEFF4">}</span><span style="color:#81A1C1">}</span><span style="color:#D8DEE9FF">,性别</span><span style="color:#81A1C1">{</span><span style="color:#ECEFF4">{</span><span style="color:#D8DEE9">sex</span><span style="color:#ECEFF4">}</span><span style="color:#81A1C1">}&lt;/h2&gt;</span></span>
<span class="line"><span style="color:#81A1C1">&lt;/template&gt;</span></span>
<span class="line"><span style="color:#81A1C1">&lt;script&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">  export default </span><span style="color:#81A1C1">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#D8DEE9">name</span><span style="color:#D8DEE9FF">: </span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">App</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#88C0D0">setup</span><span style="color:#D8DEE9FF">() </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#ECEFF4">      </span><span style="color:#616E88">// 定义</span></span>
<span class="line"><span style="color:#D8DEE9FF">      let </span><span style="color:#D8DEE9">username</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">=</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">Shier</span><span style="color:#ECEFF4">&#x27;</span></span>
<span class="line"><span style="color:#D8DEE9FF">      let </span><span style="color:#D8DEE9">sex</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">=</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">男</span><span style="color:#ECEFF4">&#x27;</span></span>
<span class="line"><span style="color:#ECEFF4">      </span><span style="color:#616E88">// 定义函数调用</span></span>
<span class="line"><span style="color:#D8DEE9FF">      function </span><span style="color:#88C0D0">personInfo</span><span style="color:#ECEFF4">()</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">        </span><span style="color:#88C0D0">alert</span><span style="color:#D8DEE9FF">(</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">我是</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">+</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">username</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">+</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">性别为:</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">+</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">sex</span><span style="color:#D8DEE9FF">)</span></span>
<span class="line"><span style="color:#D8DEE9FF">      </span><span style="color:#ECEFF4">}</span></span>
<span class="line"><span style="color:#ECEFF4">      </span><span style="color:#616E88">// 将变量或者函数返回 ,返回的是一个对象 ，放回的属性就可以直接在template标签中直接使用，不需要使用this</span></span>
<span class="line"><span style="color:#D8DEE9FF">      return </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">        </span><span style="color:#D8DEE9">username</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9FF">        </span><span style="color:#D8DEE9">sex</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9FF">        </span><span style="color:#D8DEE9">personInfo</span></span>
<span class="line"><span style="color:#D8DEE9FF">      </span><span style="color:#ECEFF4">}</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#ECEFF4">}</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#81A1C1">}</span></span>
<span class="line"><span style="color:#81A1C1">&lt;/script&gt;</span></span>
<span class="line"></span></code></pre></div>
<h2 id="ref函数"><a class="header-anchor" href="#ref函数"><span class="icon icon-link"></span></a>ref函数</h2>
<blockquote>
<ol>
<li><strong>作用</strong>: 定义一个 ref 响应式的数据</li>
</ol>
</blockquote>
<ol start="2">
<li><strong>语法</strong>: <code>const xxx = ref(initValue)</code><br/>
创建一个包含响应式数据的引用对象（reference对象，简称ref对象）。<br/>
<strong>JS中操作数据</strong>： <code>xxx.value</code><br/>
<strong>模板中读取数据</strong>: 不需要<code>.value</code>，直接：<code>&lt;div&gt;{{xxx}}&lt;/div&gt;</code></li>
</ol>
<p>使用ref函数需要注意三点：</p>
<ol>
<li>接收的数据可以是：基本类型、也可以是对象类型。</li>
<li>基本类型的数据：响应式依然是靠<code>Object.defineProperty()</code>的get与set完成的。</li>
<li>对象类型的数据：内部求助了Vue3.0中的一个新函数—— reactive函数。</li>
</ol>
<p>ref函数的具体实现:</p>
<div class="language-javascript"><div class="highlight-tools"><span class="lang">javascript</span></div><pre class="shiki nord" style="background-color:#2e3440ff" tabindex="0"><code><span class="line"><span style="color:#81A1C1">&lt;!--</span><span style="color:#D8DEE9">Vue3的setup函数配置</span><span style="color:#81A1C1">--&gt;</span></span>
<span class="line"><span style="color:#81A1C1">&lt;template&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#81A1C1">&lt;h1&gt;</span><span style="color:#D8DEE9FF">个人信息</span><span style="color:#81A1C1">&lt;/h1&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#81A1C1">&lt;h2&gt;</span><span style="color:#D8DEE9FF">姓名：</span><span style="color:#81A1C1">{</span><span style="color:#ECEFF4">{</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">username</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">}</span><span style="color:#81A1C1">}&lt;/h2&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#81A1C1">&lt;h2&gt;</span><span style="color:#D8DEE9FF">性别：</span><span style="color:#81A1C1">{</span><span style="color:#ECEFF4">{</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">sex</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">}</span><span style="color:#81A1C1">}&lt;/h2&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#81A1C1">&lt;button</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">@click=&quot;changeInfo&quot;&gt;修改信息&lt;/button&gt;</span></span>
<span class="line"><span style="color:#D8DEE9">&lt;/template&gt;</span></span>
<span class="line"><span style="color:#D8DEE9">&lt;script&gt;</span></span>
<span class="line"><span style="color:#ECEFF4">  </span><span style="color:#616E88">// 导入reactive</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#8FBCBB">import</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">{</span><span style="color:#D8DEE9">ref</span><span style="color:#81A1C1">}</span><span style="color:#D8DEE9FF"> </span><span style="color:#8FBCBB">from</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">&quot;</span><span style="color:#A3BE8C">vue</span><span style="color:#ECEFF4">&quot;</span><span style="color:#D8DEE9">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#8FBCBB">export</span><span style="color:#D8DEE9FF"> </span><span style="color:#8FBCBB">default</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#D8DEE9">name</span><span style="color:#D8DEE9FF">: </span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">App</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#88C0D0">setup</span><span style="color:#D8DEE9FF">() </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#ECEFF4">      </span><span style="color:#616E88">// 定义变量,使用ref函数响应式声明</span></span>
<span class="line"><span style="color:#D8DEE9FF">      let </span><span style="color:#D8DEE9">username</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">=</span><span style="color:#D8DEE9FF"> </span><span style="color:#88C0D0">ref</span><span style="color:#D8DEE9FF">(</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">Shier</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#D8DEE9FF">)</span></span>
<span class="line"><span style="color:#D8DEE9FF">      let </span><span style="color:#D8DEE9">sex</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">=</span><span style="color:#D8DEE9FF"> </span><span style="color:#88C0D0">ref</span><span style="color:#D8DEE9FF">(</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">男</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#D8DEE9FF">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ECEFF4">      </span><span style="color:#616E88">// 定义修改信息函数</span></span>
<span class="line"><span style="color:#D8DEE9FF">      function </span><span style="color:#88C0D0">changeInfo</span><span style="color:#ECEFF4">()</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">        </span><span style="color:#D8DEE9">username</span><span style="color:#ECEFF4">.</span><span style="color:#D8DEE9">value</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">=</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">shier1122</span><span style="color:#ECEFF4">&#x27;</span></span>
<span class="line"><span style="color:#D8DEE9FF">        </span><span style="color:#D8DEE9">sex</span><span style="color:#ECEFF4">.</span><span style="color:#D8DEE9">value</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">=</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">女</span><span style="color:#ECEFF4">&#x27;</span></span>
<span class="line"><span style="color:#D8DEE9FF">      </span><span style="color:#ECEFF4">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ECEFF4">      </span><span style="color:#616E88">// 返回值，上面定义的变量、函数、方法</span></span>
<span class="line"><span style="color:#D8DEE9FF">      return </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">        </span><span style="color:#D8DEE9">username</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9FF">        </span><span style="color:#D8DEE9">sex</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9FF">        </span><span style="color:#D8DEE9">changeInfo</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9FF">        </span><span style="color:#D8DEE9">job</span></span>
<span class="line"><span style="color:#D8DEE9FF">      </span><span style="color:#ECEFF4">}</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#ECEFF4">}</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#81A1C1">}</span></span>
<span class="line"><span style="color:#D8DEE9">&lt;/script&gt;</span></span>
<span class="line"></span></code></pre></div>
<h2 id="reactive函数"><a class="header-anchor" href="#reactive函数"><span class="icon icon-link"></span></a>reactive函数</h2>
<blockquote>
<ol>
<li>reactive只能定义一个对象、数组类型的响应式数据（基本类型不要用它，要用ref函数）</li>
</ol>
</blockquote>
<ol start="2">
<li><strong>语法</strong>：<code>const 代理对象= reactive(源对象)</code>接收一个对象（或数组），返回一个代理对象（Proxy的实例对象，简称proxy对象）</li>
<li>reactive定义的响应式数据是深层次的。</li>
<li>内部基于 ES6 的 Proxy 实现，通过代理对象操作源对象内部数据进行操作。</li>
</ol>
<div class="language-javascript"><div class="highlight-tools"><span class="lang">javascript</span></div><pre class="shiki nord" style="background-color:#2e3440ff" tabindex="0"><code><span class="line"><span style="color:#81A1C1">&lt;!--</span><span style="color:#D8DEE9">Vue3的reactive</span><span style="color:#81A1C1">--&gt;</span></span>
<span class="line"><span style="color:#81A1C1">&lt;template&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#81A1C1">&lt;h1&gt;</span><span style="color:#D8DEE9FF">个人信息</span><span style="color:#81A1C1">&lt;/h1&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#81A1C1">&lt;h2&gt;</span><span style="color:#D8DEE9FF">姓名：</span><span style="color:#81A1C1">{</span><span style="color:#ECEFF4">{</span><span style="color:#D8DEE9FF"> person.</span><span style="color:#D8DEE9">username</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">}</span><span style="color:#81A1C1">}&lt;/h2&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#81A1C1">&lt;h2&gt;</span><span style="color:#D8DEE9FF">性别：</span><span style="color:#81A1C1">{</span><span style="color:#ECEFF4">{</span><span style="color:#D8DEE9FF"> person.</span><span style="color:#D8DEE9">sex</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">}</span><span style="color:#81A1C1">}&lt;/h2&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#81A1C1">&lt;h2&gt;</span><span style="color:#D8DEE9FF">工作：</span><span style="color:#81A1C1">{</span><span style="color:#ECEFF4">{</span><span style="color:#D8DEE9FF"> person.</span><span style="color:#D8DEE9">type</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">}</span><span style="color:#81A1C1">}&lt;/h2&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#81A1C1">&lt;h2&gt;</span><span style="color:#D8DEE9FF">薪水：</span><span style="color:#81A1C1">{</span><span style="color:#ECEFF4">{</span><span style="color:#D8DEE9FF"> person.</span><span style="color:#D8DEE9">salary</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">}</span><span style="color:#81A1C1">}&lt;/h2&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#81A1C1">&lt;button</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">@click=&quot;changeInfo&quot;&gt;修改信息&lt;/button&gt;</span></span>
<span class="line"><span style="color:#D8DEE9">&lt;/template&gt;</span></span>
<span class="line"><span style="color:#D8DEE9">&lt;script&gt;</span></span>
<span class="line"><span style="color:#ECEFF4">  </span><span style="color:#616E88">// 导入reactive</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#8FBCBB">import</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">{</span><span style="color:#D8DEE9">reactive</span><span style="color:#81A1C1">}</span><span style="color:#D8DEE9FF"> </span><span style="color:#8FBCBB">from</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">&quot;</span><span style="color:#A3BE8C">vue</span><span style="color:#ECEFF4">&quot;</span><span style="color:#D8DEE9">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#8FBCBB">export</span><span style="color:#D8DEE9FF"> </span><span style="color:#8FBCBB">default</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#D8DEE9">name</span><span style="color:#D8DEE9FF">: </span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">App</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#88C0D0">setup</span><span style="color:#D8DEE9FF">() </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#ECEFF4">      </span><span style="color:#616E88">// 使用reactive创建对象数据类型</span></span>
<span class="line"><span style="color:#D8DEE9FF">      let </span><span style="color:#D8DEE9">person</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">=</span><span style="color:#D8DEE9FF"> </span><span style="color:#88C0D0">reactive</span><span style="color:#D8DEE9FF">(</span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">        </span><span style="color:#88C0D0">username</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">Shier</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9FF">        </span><span style="color:#88C0D0">sex</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">男</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9FF">        </span><span style="color:#88C0D0">type</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">全栈工程师</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9FF">        </span><span style="color:#88C0D0">salary</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">40k</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#ECEFF4">        </span><span style="color:#616E88">// 使用reactive创建数组数据类型</span></span>
<span class="line"><span style="color:#D8DEE9FF">        </span><span style="color:#88C0D0">hobby</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#88C0D0">reactive</span><span style="color:#D8DEE9FF">([</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">学习</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">跑步</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">编程</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#D8DEE9FF">])</span></span>
<span class="line"><span style="color:#D8DEE9FF">      </span><span style="color:#ECEFF4">}</span><span style="color:#D8DEE9FF">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ECEFF4">      </span><span style="color:#616E88">// 定义修改信息函数</span></span>
<span class="line"><span style="color:#D8DEE9FF">      function </span><span style="color:#88C0D0">changeInfo</span><span style="color:#ECEFF4">()</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">        </span><span style="color:#D8DEE9">person</span><span style="color:#ECEFF4">.</span><span style="color:#D8DEE9">username</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">=</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">shier22</span><span style="color:#ECEFF4">&#x27;</span></span>
<span class="line"><span style="color:#D8DEE9FF">        </span><span style="color:#D8DEE9">person</span><span style="color:#ECEFF4">.</span><span style="color:#D8DEE9">sex</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">=</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">女</span><span style="color:#ECEFF4">&#x27;</span></span>
<span class="line"><span style="color:#ECEFF4">        </span><span style="color:#616E88">// reactive修改对象数据</span></span>
<span class="line"><span style="color:#D8DEE9FF">        </span><span style="color:#D8DEE9">person</span><span style="color:#ECEFF4">.</span><span style="color:#D8DEE9">salary</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">=</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">45k</span><span style="color:#ECEFF4">&#x27;</span></span>
<span class="line"><span style="color:#D8DEE9FF">        </span><span style="color:#D8DEE9">person</span><span style="color:#ECEFF4">.</span><span style="color:#D8DEE9">type</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">=</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">产品经理</span><span style="color:#ECEFF4">&#x27;</span></span>
<span class="line"><span style="color:#ECEFF4">        </span><span style="color:#616E88">// reactive 修改数组数据：通过索引值修改</span></span>
<span class="line"><span style="color:#D8DEE9FF">        </span><span style="color:#D8DEE9">person</span><span style="color:#ECEFF4">.</span><span style="color:#D8DEE9">hobby</span><span style="color:#D8DEE9FF">[</span><span style="color:#B48EAD">0</span><span style="color:#D8DEE9FF">] </span><span style="color:#81A1C1">=</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">打王者</span><span style="color:#ECEFF4">&#x27;</span></span>
<span class="line"><span style="color:#D8DEE9FF">      </span><span style="color:#ECEFF4">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ECEFF4">      </span><span style="color:#616E88">// 返回值，上面定义的变量、函数、方法</span></span>
<span class="line"><span style="color:#D8DEE9FF">      return </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">        </span><span style="color:#D8DEE9">person</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9FF">        </span><span style="color:#D8DEE9">changeInfo</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9FF">      </span><span style="color:#ECEFF4">}</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#ECEFF4">}</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#81A1C1">}</span></span>
<span class="line"><span style="color:#D8DEE9">&lt;/script&gt;</span></span>
<span class="line"></span></code></pre></div>
<h2 id="vue3中的响应式原理"><a class="header-anchor" href="#vue3中的响应式原理"><span class="icon icon-link"></span></a>Vue3中的响应式原理</h2>
<!-- -->
<p><strong>实现原理</strong>：</p>
<ul>
<li><strong>对象类型</strong>：通过<code>Object.defineProperty()</code>对属性的读取、修改进行拦截（数据劫持）。</li>
<li><strong>数组类型</strong>：通过重写更新数组的一系列方法来实现拦截。（对数组的变更方法进行了包裹）。</li>
</ul>
<div class="language-javascript"><div class="highlight-tools"><span class="lang">javascript</span></div><pre class="shiki nord" style="background-color:#2e3440ff" tabindex="0"><code><span class="line"><span style="color:#D8DEE9">Object</span><span style="color:#ECEFF4">.</span><span style="color:#88C0D0">defineProperty</span><span style="color:#D8DEE9FF">(</span><span style="color:#D8DEE9">data</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">count</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#88C0D0">get</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">()</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{},</span><span style="color:#D8DEE9FF"> </span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#88C0D0">set</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">()</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{}</span></span>
<span class="line"><span style="color:#ECEFF4">}</span><span style="color:#D8DEE9FF">)</span></span>
<span class="line"></span></code></pre></div>
<p><strong>存在问题</strong>：</p>
<ul>
<li>新增属性、删除属性, 界面不会更新。</li>
<li>直接通过下标修改数组, 界面不会自动更新。</li>
</ul>
<!-- -->
<!-- -->
<p><strong>实现原理</strong>:</p>
<ul>
<li><strong>通过Proxy（代理）</strong>: 拦截对象中任意属性的变化, 包括：属性值的读写、属性的添加、属性的删除等。</li>
<li><strong>通过Reflect（反射）</strong>: 对源对象的属性进行操作。<br/>
MDN文档中描述的<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Proxy">Proxy</a>与<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Reflect">Reflect</a></li>
</ul>
<div class="language-javascript"><div class="highlight-tools"><span class="lang">javascript</span></div><pre class="shiki nord" style="background-color:#2e3440ff" tabindex="0"><code><span class="line"><span style="color:#81A1C1">new</span><span style="color:#D8DEE9FF"> </span><span style="color:#88C0D0">Proxy</span><span style="color:#D8DEE9FF">(</span><span style="color:#D8DEE9">data</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#ECEFF4">	</span><span style="color:#616E88">// 拦截读取属性值</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#88C0D0">get</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">(</span><span style="color:#D8DEE9">target</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">prop</span><span style="color:#ECEFF4">)</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">    	</span><span style="color:#81A1C1">return</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">Reflect</span><span style="color:#ECEFF4">.</span><span style="color:#88C0D0">get</span><span style="color:#D8DEE9FF">(</span><span style="color:#D8DEE9">target</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">prop</span><span style="color:#D8DEE9FF">)</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#ECEFF4">},</span></span>
<span class="line"><span style="color:#ECEFF4">    </span><span style="color:#616E88">// 拦截设置属性值或添加新属性</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#88C0D0">set</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">(</span><span style="color:#D8DEE9">target</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">prop</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">value</span><span style="color:#ECEFF4">)</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">    	</span><span style="color:#81A1C1">return</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">Reflect</span><span style="color:#ECEFF4">.</span><span style="color:#88C0D0">set</span><span style="color:#D8DEE9FF">(</span><span style="color:#D8DEE9">target</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">prop</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">value</span><span style="color:#D8DEE9FF">)</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#ECEFF4">},</span></span>
<span class="line"><span style="color:#ECEFF4">    </span><span style="color:#616E88">// 拦截删除属性</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#88C0D0">deleteProperty</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">(</span><span style="color:#D8DEE9">target</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">prop</span><span style="color:#ECEFF4">)</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">    	</span><span style="color:#81A1C1">return</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">Reflect</span><span style="color:#ECEFF4">.</span><span style="color:#88C0D0">deleteProperty</span><span style="color:#D8DEE9FF">(</span><span style="color:#D8DEE9">target</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">prop</span><span style="color:#D8DEE9FF">)</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#ECEFF4">}</span></span>
<span class="line"><span style="color:#ECEFF4">}</span><span style="color:#D8DEE9FF">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D8DEE9">proxy</span><span style="color:#ECEFF4">.</span><span style="color:#D8DEE9">name</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">=</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">tom</span><span style="color:#ECEFF4">&#x27;</span></span>
<span class="line"></span></code></pre></div>
<!-- -->
<p>Proxy具体实现案例</p>
<div class="language-javascript"><div class="highlight-tools"><span class="lang">javascript</span></div><pre class="shiki nord" style="background-color:#2e3440ff" tabindex="0"><code><span class="line"><span style="color:#81A1C1">&lt;!--</span><span style="color:#D8DEE9">Vue3的reactive</span><span style="color:#81A1C1">--&gt;</span></span>
<span class="line"><span style="color:#81A1C1">&lt;template&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#81A1C1">&lt;h1&gt;</span><span style="color:#D8DEE9FF">个人信息</span><span style="color:#81A1C1">&lt;/h1&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#81A1C1">&lt;h2&gt;</span><span style="color:#D8DEE9FF">姓名：</span><span style="color:#81A1C1">{</span><span style="color:#ECEFF4">{</span><span style="color:#D8DEE9FF"> person.</span><span style="color:#D8DEE9">username</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">}</span><span style="color:#81A1C1">}&lt;/h2&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#81A1C1">&lt;h2&gt;</span><span style="color:#D8DEE9FF">性别：</span><span style="color:#81A1C1">{</span><span style="color:#ECEFF4">{</span><span style="color:#D8DEE9FF"> person.</span><span style="color:#D8DEE9">sex</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">}</span><span style="color:#81A1C1">}&lt;/h2&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#81A1C1">&lt;h2</span><span style="color:#D8DEE9FF"> </span><span style="color:#8FBCBB">v-show</span><span style="color:#81A1C1">=</span><span style="color:#ECEFF4">&quot;</span><span style="color:#A3BE8C">person.age</span><span style="color:#ECEFF4">&quot;</span><span style="color:#81A1C1">&gt;</span><span style="color:#D8DEE9FF">年龄：</span><span style="color:#81A1C1">{</span><span style="color:#ECEFF4">{</span><span style="color:#D8DEE9FF"> person.</span><span style="color:#D8DEE9">age</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">}</span><span style="color:#81A1C1">}&lt;/h2&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#81A1C1">&lt;h2</span><span style="color:#D8DEE9FF"> </span><span style="color:#8FBCBB">v-show</span><span style="color:#81A1C1">=</span><span style="color:#ECEFF4">&quot;</span><span style="color:#A3BE8C">person.type</span><span style="color:#ECEFF4">&quot;</span><span style="color:#81A1C1">&gt;</span><span style="color:#D8DEE9FF">工作：</span><span style="color:#81A1C1">{</span><span style="color:#ECEFF4">{</span><span style="color:#D8DEE9FF"> person.</span><span style="color:#D8DEE9">type</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">}</span><span style="color:#81A1C1">}&lt;/h2&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#81A1C1">&lt;h2&gt;</span><span style="color:#D8DEE9FF">薪水：</span><span style="color:#81A1C1">{</span><span style="color:#ECEFF4">{</span><span style="color:#D8DEE9FF"> person.</span><span style="color:#D8DEE9">salary</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">}</span><span style="color:#81A1C1">}&lt;/h2&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#81A1C1">&lt;button</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">@click=&quot;changeInfo&quot;&gt;修改信息&lt;/button&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#D8DEE9">&lt;button</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">@click=&quot;deleteInfo&quot;&gt;删除工作&lt;/button&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#D8DEE9">&lt;button</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">@click=&quot;addAge&quot;&gt;添加年龄&lt;/button&gt;</span></span>
<span class="line"><span style="color:#D8DEE9">&lt;/template&gt;</span></span>
<span class="line"><span style="color:#D8DEE9">&lt;script&gt;</span></span>
<span class="line"><span style="color:#ECEFF4">  </span><span style="color:#616E88">// 导入reactive</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#8FBCBB">import</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">{</span><span style="color:#D8DEE9">reactive</span><span style="color:#81A1C1">}</span><span style="color:#D8DEE9FF"> </span><span style="color:#8FBCBB">from</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">&quot;</span><span style="color:#A3BE8C">vue</span><span style="color:#ECEFF4">&quot;</span><span style="color:#D8DEE9">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#8FBCBB">export</span><span style="color:#D8DEE9FF"> </span><span style="color:#8FBCBB">default</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#D8DEE9">name</span><span style="color:#D8DEE9FF">: </span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">App</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#88C0D0">setup</span><span style="color:#D8DEE9FF">() </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#ECEFF4">      </span><span style="color:#616E88">// 使用reactive创建对象数据类型</span></span>
<span class="line"><span style="color:#D8DEE9FF">      let </span><span style="color:#D8DEE9">person</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">=</span><span style="color:#D8DEE9FF"> </span><span style="color:#88C0D0">reactive</span><span style="color:#D8DEE9FF">(</span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">        </span><span style="color:#88C0D0">username</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">Shier</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9FF">        </span><span style="color:#88C0D0">sex</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">男</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9FF">        </span><span style="color:#88C0D0">type</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">全栈工程师</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9FF">        </span><span style="color:#88C0D0">salary</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">40k</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#ECEFF4">        </span><span style="color:#616E88">// 使用reactive创建数组数据类型</span></span>
<span class="line"><span style="color:#D8DEE9FF">        </span><span style="color:#88C0D0">hobby</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#88C0D0">reactive</span><span style="color:#D8DEE9FF">([</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">学习</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">跑步</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">编程</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#D8DEE9FF">])</span></span>
<span class="line"><span style="color:#D8DEE9FF">      </span><span style="color:#ECEFF4">}</span><span style="color:#D8DEE9FF">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ECEFF4">      </span><span style="color:#616E88">// 定义修改信息函数</span></span>
<span class="line"><span style="color:#D8DEE9FF">      function </span><span style="color:#88C0D0">changeInfo</span><span style="color:#ECEFF4">()</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">        </span><span style="color:#D8DEE9">person</span><span style="color:#ECEFF4">.</span><span style="color:#D8DEE9">username</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">=</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">shier22</span><span style="color:#ECEFF4">&#x27;</span></span>
<span class="line"><span style="color:#D8DEE9FF">        </span><span style="color:#D8DEE9">person</span><span style="color:#ECEFF4">.</span><span style="color:#D8DEE9">sex</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">=</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">女</span><span style="color:#ECEFF4">&#x27;</span></span>
<span class="line"><span style="color:#ECEFF4">        </span><span style="color:#616E88">// reactive修改对象数据</span></span>
<span class="line"><span style="color:#D8DEE9FF">        </span><span style="color:#D8DEE9">person</span><span style="color:#ECEFF4">.</span><span style="color:#D8DEE9">salary</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">=</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">45k</span><span style="color:#ECEFF4">&#x27;</span></span>
<span class="line"><span style="color:#D8DEE9FF">        </span><span style="color:#D8DEE9">person</span><span style="color:#ECEFF4">.</span><span style="color:#D8DEE9">type</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">=</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">产品经理</span><span style="color:#ECEFF4">&#x27;</span></span>
<span class="line"><span style="color:#ECEFF4">        </span><span style="color:#616E88">// reactive 修改数组数据：通过索引值修改</span></span>
<span class="line"><span style="color:#D8DEE9FF">        </span><span style="color:#D8DEE9">person</span><span style="color:#ECEFF4">.</span><span style="color:#D8DEE9">hobby</span><span style="color:#D8DEE9FF">[</span><span style="color:#B48EAD">0</span><span style="color:#D8DEE9FF">] </span><span style="color:#81A1C1">=</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">打王者</span><span style="color:#ECEFF4">&#x27;</span></span>
<span class="line"><span style="color:#D8DEE9FF">      </span><span style="color:#ECEFF4">}</span></span>
<span class="line"><span style="color:#ECEFF4">      </span><span style="color:#616E88">// Vue3中增删改查</span></span>
<span class="line"><span style="color:#D8DEE9FF">      function </span><span style="color:#88C0D0">addAge</span><span style="color:#ECEFF4">()</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">        </span><span style="color:#D8DEE9">person</span><span style="color:#ECEFF4">.</span><span style="color:#D8DEE9">age</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">=</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">18</span><span style="color:#ECEFF4">&#x27;</span></span>
<span class="line"><span style="color:#D8DEE9FF">      </span><span style="color:#ECEFF4">}</span></span>
<span class="line"><span style="color:#D8DEE9FF">      function </span><span style="color:#88C0D0">deleteInfo</span><span style="color:#ECEFF4">()</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">       </span><span style="color:#81A1C1">delete</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">person</span><span style="color:#ECEFF4">.</span><span style="color:#D8DEE9">type</span></span>
<span class="line"><span style="color:#D8DEE9FF">      </span><span style="color:#ECEFF4">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ECEFF4">      </span><span style="color:#616E88">// 返回值，上面定义的变量、函数、方法</span></span>
<span class="line"><span style="color:#D8DEE9FF">      return </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">        </span><span style="color:#D8DEE9">person</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9FF">        </span><span style="color:#D8DEE9">changeInfo</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9FF">        </span><span style="color:#D8DEE9">addAge</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9FF">        </span><span style="color:#D8DEE9">deleteInfo</span></span>
<span class="line"><span style="color:#D8DEE9FF">      </span><span style="color:#ECEFF4">}</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#ECEFF4">}</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#81A1C1">}</span></span>
<span class="line"><span style="color:#D8DEE9">&lt;/script&gt;</span></span>
<span class="line"></span></code></pre></div>
<h2 id="reactive对比ref"><a class="header-anchor" href="#reactive对比ref"><span class="icon icon-link"></span></a>reactive对比ref</h2>
<p><strong>从定义数据角度对比</strong>：</p>
<ul>
<li>ref用来定义：基本类型数据。</li>
<li>reactive用来定义：对象（或数组）类型数据。</li>
</ul>
<p><strong>备注</strong>：ref也可以用来定义对象（或数组）类型数据, 它内部会自动通过<code>reactive</code>转为代理对象。</p>
<p><strong>从原理角度对比</strong>：</p>
<ul>
<li>ref通过<code>Object.defineProperty()</code>的get与set来实现响应式（数据劫持）。</li>
<li>reactive通过使用Proxy来实现响应式（数据劫持）, 并通过Reflect操作源对象内部的数据。</li>
</ul>
<p><strong>从使用角度对比</strong>：</p>
<ul>
<li>ref定义的数据：操作数据需要<code>.value</code>，读取数据时模板中直接读取不需要<code>.value</code>。</li>
<li>reactive定义的数据：操作数据与读取数据：均不需要<code>.value</code>。</li>
</ul>
<h2 id="setup的两个注意点"><a class="header-anchor" href="#setup的两个注意点"><span class="icon icon-link"></span></a>setup的两个注意点</h2>
<p><strong>setup执行的时机</strong>：在beforeCreate之前执行一次，this是undefined。<br/>
<strong>setup的参数</strong>：<br/>
<strong>props</strong>：值为对象，包含：组件外部传递过来，且组件内部声明接收了的属性。<br/>
<strong>context</strong>：上下文对象</p>
<ul>
<li><strong>attrs</strong>: 值为对象，包含：组件外部传递过来，但没有在props配置中声明的属性, 相当于<code>this.$attrs</code>。</li>
<li><strong>slots</strong>: 收到的插槽内容, 相当于 <code>this.$slots</code>。</li>
<li><strong>emit</strong>: 分发自定义事件的函数, 相当于 <code>this.$emit</code>。</li>
</ul>
<h2 id="计算属性与监视"><a class="header-anchor" href="#计算属性与监视"><span class="icon icon-link"></span></a>计算属性与监视</h2>
<h3 id="computed函数"><a class="header-anchor" href="#computed函数"><span class="icon icon-link"></span></a>computed函数</h3>
<p>与Vue2.x中<code>computed</code>配置功能一致<br/>
在Vue3中的计算属性属于一个组合，需要引入，<code>computed</code>函数</p>
<div class="language-javascript"><div class="highlight-tools"><span class="lang">javascript</span></div><pre class="shiki nord" style="background-color:#2e3440ff" tabindex="0"><code><span class="line"><span style="color:#81A1C1">import</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span><span style="color:#8FBCBB">computed</span><span style="color:#ECEFF4">}</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">from</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">vue</span><span style="color:#ECEFF4">&#x27;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88C0D0">setup</span><span style="color:#D8DEE9FF">()</span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#81A1C1">...</span></span>
<span class="line"><span style="color:#ECEFF4">	</span><span style="color:#616E88">//计算属性——简写</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#81A1C1">let</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">fullName</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">=</span><span style="color:#D8DEE9FF"> </span><span style="color:#88C0D0">computed</span><span style="color:#D8DEE9FF">(</span><span style="color:#ECEFF4">()</span><span style="color:#81A1C1">=&gt;</span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">        </span><span style="color:#81A1C1">return</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">person</span><span style="color:#ECEFF4">.</span><span style="color:#D8DEE9">firstName</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">+</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">-</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">+</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">person</span><span style="color:#ECEFF4">.</span><span style="color:#D8DEE9">lastName</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#ECEFF4">}</span><span style="color:#D8DEE9FF">)</span></span>
<span class="line"><span style="color:#ECEFF4">    </span><span style="color:#616E88">//计算属性——完整</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#81A1C1">let</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">fullName</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">=</span><span style="color:#D8DEE9FF"> </span><span style="color:#88C0D0">computed</span><span style="color:#D8DEE9FF">(</span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">        </span><span style="color:#88C0D0">get</span><span style="color:#ECEFF4">(){</span></span>
<span class="line"><span style="color:#D8DEE9FF">            </span><span style="color:#81A1C1">return</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">person</span><span style="color:#ECEFF4">.</span><span style="color:#D8DEE9">firstName</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">+</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">-</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">+</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">person</span><span style="color:#ECEFF4">.</span><span style="color:#D8DEE9">lastName</span></span>
<span class="line"><span style="color:#D8DEE9FF">        </span><span style="color:#ECEFF4">},</span></span>
<span class="line"><span style="color:#D8DEE9FF">        </span><span style="color:#88C0D0">set</span><span style="color:#ECEFF4">(</span><span style="color:#D8DEE9">value</span><span style="color:#ECEFF4">){</span></span>
<span class="line"><span style="color:#D8DEE9FF">            </span><span style="color:#81A1C1">const</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">nameArr</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">=</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">value</span><span style="color:#ECEFF4">.</span><span style="color:#88C0D0">split</span><span style="color:#D8DEE9FF">(</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">-</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#D8DEE9FF">)</span></span>
<span class="line"><span style="color:#D8DEE9FF">            </span><span style="color:#D8DEE9">person</span><span style="color:#ECEFF4">.</span><span style="color:#D8DEE9">firstName</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">=</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">nameArr</span><span style="color:#D8DEE9FF">[</span><span style="color:#B48EAD">0</span><span style="color:#D8DEE9FF">]</span></span>
<span class="line"><span style="color:#D8DEE9FF">            </span><span style="color:#D8DEE9">person</span><span style="color:#ECEFF4">.</span><span style="color:#D8DEE9">lastName</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">=</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">nameArr</span><span style="color:#D8DEE9FF">[</span><span style="color:#B48EAD">1</span><span style="color:#D8DEE9FF">]</span></span>
<span class="line"><span style="color:#D8DEE9FF">        </span><span style="color:#ECEFF4">}</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#ECEFF4">}</span><span style="color:#D8DEE9FF">)</span></span>
<span class="line"><span style="color:#ECEFF4">}</span></span>
<span class="line"></span></code></pre></div>
<p>具体实现名字合并案例</p>
<div class="language-javascript"><div class="highlight-tools"><span class="lang">javascript</span></div><pre class="shiki nord" style="background-color:#2e3440ff" tabindex="0"><code><span class="line"><span style="color:#81A1C1">&lt;template&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#81A1C1">&lt;h1&gt;</span><span style="color:#D8DEE9FF">个人信息</span><span style="color:#81A1C1">&lt;/h1&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">  姓：</span><span style="color:#81A1C1">&lt;input</span><span style="color:#D8DEE9FF"> </span><span style="color:#8FBCBB">type</span><span style="color:#81A1C1">=</span><span style="color:#ECEFF4">&quot;</span><span style="color:#A3BE8C">text</span><span style="color:#ECEFF4">&quot;</span><span style="color:#D8DEE9FF"> </span><span style="color:#8FBCBB">v-model</span><span style="color:#81A1C1">=</span><span style="color:#ECEFF4">&quot;</span><span style="color:#A3BE8C">person.firstName</span><span style="color:#ECEFF4">&quot;</span><span style="color:#81A1C1">&gt;&lt;br&gt;&lt;br&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">  名：</span><span style="color:#81A1C1">&lt;input</span><span style="color:#D8DEE9FF"> </span><span style="color:#8FBCBB">type</span><span style="color:#81A1C1">=</span><span style="color:#ECEFF4">&quot;</span><span style="color:#A3BE8C">text</span><span style="color:#ECEFF4">&quot;</span><span style="color:#D8DEE9FF"> </span><span style="color:#8FBCBB">v-model</span><span style="color:#81A1C1">=</span><span style="color:#ECEFF4">&quot;</span><span style="color:#A3BE8C">person.lastName</span><span style="color:#ECEFF4">&quot;</span><span style="color:#81A1C1">&gt;&lt;br&gt;&lt;br&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#81A1C1">&lt;span&gt;</span><span style="color:#D8DEE9FF">全名： </span><span style="color:#81A1C1">{</span><span style="color:#ECEFF4">{</span><span style="color:#D8DEE9FF">person.</span><span style="color:#D8DEE9">fullName</span><span style="color:#ECEFF4">}</span><span style="color:#81A1C1">}&lt;/span&gt;&lt;br&gt;&lt;br&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">  修改名字：</span><span style="color:#81A1C1">&lt;input</span><span style="color:#D8DEE9FF"> </span><span style="color:#8FBCBB">type</span><span style="color:#81A1C1">=</span><span style="color:#ECEFF4">&quot;</span><span style="color:#A3BE8C">text</span><span style="color:#ECEFF4">&quot;</span><span style="color:#D8DEE9FF"> </span><span style="color:#8FBCBB">v-model</span><span style="color:#81A1C1">=</span><span style="color:#ECEFF4">&quot;</span><span style="color:#A3BE8C">person.fullName</span><span style="color:#ECEFF4">&quot;</span><span style="color:#81A1C1">&gt;</span></span>
<span class="line"><span style="color:#81A1C1">&lt;/template&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#81A1C1">&lt;script&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">  // 导入reactive,在</span></span>
<span class="line"><span style="color:#D8DEE9FF">  import </span><span style="color:#81A1C1">{</span><span style="color:#D8DEE9">reactive</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">computed</span><span style="color:#81A1C1">}</span><span style="color:#D8DEE9FF"> from &quot;vue&quot;;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D8DEE9FF">  export default </span><span style="color:#81A1C1">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#D8DEE9">name</span><span style="color:#D8DEE9FF">: </span><span style="color:#ECEFF4">&quot;</span><span style="color:#A3BE8C">ComputedDemo</span><span style="color:#ECEFF4">&quot;</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#88C0D0">setup</span><span style="color:#D8DEE9FF">() </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#ECEFF4">      </span><span style="color:#616E88">// 使用reactive创建对象数据类型</span></span>
<span class="line"><span style="color:#D8DEE9FF">      let </span><span style="color:#D8DEE9">person</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">=</span><span style="color:#D8DEE9FF"> </span><span style="color:#88C0D0">reactive</span><span style="color:#D8DEE9FF">(</span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">        </span><span style="color:#88C0D0">firstName</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">十</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9FF">        </span><span style="color:#88C0D0">lastName</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">二</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9FF">      </span><span style="color:#ECEFF4">}</span><span style="color:#D8DEE9FF">)</span></span>
<span class="line"><span style="color:#D8DEE9FF">      </span><span style="color:#616E88">/*// 简单写法（只读）将computed组合创建在person对象中,将值返回</span></span>
<span class="line"><span style="color:#616E88">      person.fullName = computed(() =&gt; {</span></span>
<span class="line"><span style="color:#616E88">        return person.firstName + &#x27;-&#x27; + person.lastName</span></span>
<span class="line"><span style="color:#616E88">      })*/</span></span>
<span class="line"><span style="color:#ECEFF4">      </span><span style="color:#616E88">// 完整写法（读写）将computed组合创建在person对象中,将值返回</span></span>
<span class="line"><span style="color:#D8DEE9FF">      person.</span><span style="color:#D8DEE9">fullName</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">=</span><span style="color:#D8DEE9FF"> </span><span style="color:#88C0D0">computed</span><span style="color:#D8DEE9FF">(</span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">        </span><span style="color:#88C0D0">get</span><span style="color:#ECEFF4">(){</span></span>
<span class="line"><span style="color:#D8DEE9FF">          </span><span style="color:#81A1C1">return</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">person</span><span style="color:#ECEFF4">.</span><span style="color:#D8DEE9">firstName</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">+</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">-</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">+</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">person</span><span style="color:#ECEFF4">.</span><span style="color:#D8DEE9">lastName</span></span>
<span class="line"><span style="color:#D8DEE9FF">        </span><span style="color:#ECEFF4">},</span></span>
<span class="line"><span style="color:#D8DEE9FF">        </span><span style="color:#88C0D0">set</span><span style="color:#ECEFF4">(</span><span style="color:#D8DEE9">value</span><span style="color:#ECEFF4">){</span></span>
<span class="line"><span style="color:#D8DEE9FF">          </span><span style="color:#81A1C1">const</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">nameArray</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">=</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">value</span><span style="color:#ECEFF4">.</span><span style="color:#88C0D0">split</span><span style="color:#D8DEE9FF">(</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">-</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#D8DEE9FF">)</span></span>
<span class="line"><span style="color:#D8DEE9FF">          </span><span style="color:#D8DEE9">person</span><span style="color:#ECEFF4">.</span><span style="color:#D8DEE9">firstName</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">=</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">nameArray</span><span style="color:#D8DEE9FF">[</span><span style="color:#B48EAD">0</span><span style="color:#D8DEE9FF">]</span></span>
<span class="line"><span style="color:#D8DEE9FF">          </span><span style="color:#D8DEE9">person</span><span style="color:#ECEFF4">.</span><span style="color:#D8DEE9">lastName</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">=</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">nameArray</span><span style="color:#D8DEE9FF">[</span><span style="color:#B48EAD">1</span><span style="color:#D8DEE9FF">]</span></span>
<span class="line"><span style="color:#D8DEE9FF">        </span><span style="color:#ECEFF4">}</span></span>
<span class="line"><span style="color:#D8DEE9FF">      </span><span style="color:#ECEFF4">}</span><span style="color:#D8DEE9FF">)</span></span>
<span class="line"><span style="color:#ECEFF4">      </span><span style="color:#616E88">// 返回值，上面定义的变量、函数、方法</span></span>
<span class="line"><span style="color:#D8DEE9FF">      return </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">        </span><span style="color:#D8DEE9">person</span></span>
<span class="line"><span style="color:#D8DEE9FF">      </span><span style="color:#ECEFF4">}</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#ECEFF4">}</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#81A1C1">}</span></span>
<span class="line"><span style="color:#81A1C1">&lt;/script&gt;</span></span>
<span class="line"></span></code></pre></div>
<h3 id="watch函数"><a class="header-anchor" href="#watch函数"><span class="icon icon-link"></span></a>watch函数</h3>
<p>与Vue2.x中watch配置功能一致<br/>
<strong>两个小“坑”</strong>：</p>
<ul>
<li>监视reactive定义的响应式数据时：oldValue无法正确获取、强制开启了深度监视（deep配置失效）。</li>
<li>监视reactive定义的响应式数据中某个属性时：deep配置有效。</li>
</ul>
<div class="language-javascript"><div class="highlight-tools"><span class="lang">javascript</span></div><pre class="shiki nord" style="background-color:#2e3440ff" tabindex="0"><code><span class="line"><span style="color:#81A1C1">&lt;template&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#81A1C1">&lt;h1</span><span style="color:#D8DEE9FF"> </span><span style="color:#8FBCBB">v-show</span><span style="color:#81A1C1">=</span><span style="color:#ECEFF4">&quot;</span><span style="color:#A3BE8C">sum</span><span style="color:#ECEFF4">&quot;</span><span style="color:#81A1C1">&gt;</span><span style="color:#D8DEE9FF">当前求和结果</span><span style="color:#81A1C1">{</span><span style="color:#ECEFF4">{</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">sum</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">}</span><span style="color:#81A1C1">}&lt;/h1&gt;&lt;br&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#81A1C1">&lt;button</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">@click=&quot;sum++&quot;&gt;sum+1&lt;/button&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#D8DEE9">&lt;hr&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#D8DEE9">&lt;h1</span><span style="color:#D8DEE9FF"> </span><span style="color:#8FBCBB">v-show</span><span style="color:#81A1C1">=</span><span style="color:#ECEFF4">&quot;</span><span style="color:#A3BE8C">msg</span><span style="color:#ECEFF4">&quot;</span><span style="color:#81A1C1">&gt;</span><span style="color:#D8DEE9FF">当前信息：</span><span style="color:#81A1C1">{</span><span style="color:#ECEFF4">{</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">msg</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">}</span><span style="color:#81A1C1">}&lt;/h1&gt;&lt;br&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#81A1C1">&lt;button</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">@click=&quot;msg+=&#x27;@&#x27;&quot;&gt;信息修改&lt;/button&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#D8DEE9">&lt;hr&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#D8DEE9">&lt;h1</span><span style="color:#D8DEE9FF"> </span><span style="color:#8FBCBB">v-show</span><span style="color:#81A1C1">=</span><span style="color:#ECEFF4">&quot;</span><span style="color:#A3BE8C">person.name</span><span style="color:#ECEFF4">&quot;</span><span style="color:#81A1C1">&gt;</span><span style="color:#D8DEE9FF">姓名:</span><span style="color:#81A1C1">{</span><span style="color:#ECEFF4">{</span><span style="color:#D8DEE9FF">person.</span><span style="color:#D8DEE9">name</span><span style="color:#ECEFF4">}</span><span style="color:#81A1C1">}&lt;/h1&gt;&lt;br&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#81A1C1">&lt;h1</span><span style="color:#D8DEE9FF"> </span><span style="color:#8FBCBB">v-show</span><span style="color:#81A1C1">=</span><span style="color:#ECEFF4">&quot;</span><span style="color:#A3BE8C">person.age</span><span style="color:#ECEFF4">&quot;</span><span style="color:#81A1C1">&gt;</span><span style="color:#D8DEE9FF">年龄:</span><span style="color:#81A1C1">{</span><span style="color:#ECEFF4">{</span><span style="color:#D8DEE9FF">person.</span><span style="color:#D8DEE9">age</span><span style="color:#ECEFF4">}</span><span style="color:#81A1C1">}&lt;/h1&gt;&lt;br&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#81A1C1">&lt;h1</span><span style="color:#D8DEE9FF"> </span><span style="color:#8FBCBB">v-show</span><span style="color:#81A1C1">=</span><span style="color:#ECEFF4">&quot;</span><span style="color:#A3BE8C">person.job.salary</span><span style="color:#ECEFF4">&quot;</span><span style="color:#81A1C1">&gt;</span><span style="color:#D8DEE9FF">薪资:</span><span style="color:#81A1C1">{</span><span style="color:#ECEFF4">{</span><span style="color:#D8DEE9FF">person.job.</span><span style="color:#D8DEE9">salary</span><span style="color:#ECEFF4">}</span><span style="color:#81A1C1">}</span><span style="color:#D8DEE9FF">K</span><span style="color:#81A1C1">&lt;/h1&gt;&lt;br&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#81A1C1">&lt;button</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">@click=&quot;person.name+=&#x27;~&#x27;&quot;&gt;姓名修改&lt;/button&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#D8DEE9">&lt;button</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">@click=&quot;person.age++&quot;&gt;年龄增加&lt;/button&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#D8DEE9">&lt;button</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">@click=&quot;person.job.salary++&quot;&gt;薪资++&lt;/button&gt;</span></span>
<span class="line"><span style="color:#D8DEE9">&lt;/template&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D8DEE9">&lt;script&gt;</span></span>
<span class="line"><span style="color:#ECEFF4">  </span><span style="color:#616E88">// 引入需要的组合</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#8FBCBB">import</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">{</span><span style="color:#D8DEE9">reactive</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">ref</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">watch</span><span style="color:#81A1C1">}</span><span style="color:#D8DEE9FF"> </span><span style="color:#8FBCBB">from</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">&quot;</span><span style="color:#A3BE8C">vue</span><span style="color:#ECEFF4">&quot;</span><span style="color:#D8DEE9">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#8FBCBB">export</span><span style="color:#D8DEE9FF"> </span><span style="color:#8FBCBB">default</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#D8DEE9">name</span><span style="color:#D8DEE9FF">: </span><span style="color:#ECEFF4">&quot;</span><span style="color:#A3BE8C">WatchDemo</span><span style="color:#ECEFF4">&quot;</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#88C0D0">setup</span><span style="color:#D8DEE9FF">() </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#ECEFF4">      </span><span style="color:#616E88">// 监视的数据</span></span>
<span class="line"><span style="color:#D8DEE9FF">      let </span><span style="color:#D8DEE9">sum</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">=</span><span style="color:#D8DEE9FF"> </span><span style="color:#88C0D0">ref</span><span style="color:#D8DEE9FF">(</span><span style="color:#B48EAD">1</span><span style="color:#D8DEE9FF">)</span></span>
<span class="line"><span style="color:#D8DEE9FF">      let </span><span style="color:#D8DEE9">msg</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">=</span><span style="color:#D8DEE9FF"> </span><span style="color:#88C0D0">ref</span><span style="color:#D8DEE9FF">(</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">Vue3</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#D8DEE9FF">)</span></span>
<span class="line"><span style="color:#D8DEE9FF">      let </span><span style="color:#D8DEE9">person</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">=</span><span style="color:#D8DEE9FF"> </span><span style="color:#88C0D0">reactive</span><span style="color:#D8DEE9FF">(</span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">        </span><span style="color:#88C0D0">name</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">Shier</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9FF">        </span><span style="color:#88C0D0">age</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#B48EAD">19</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9FF">        </span><span style="color:#88C0D0">job</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">          </span><span style="color:#88C0D0">job1</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">全栈</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9FF">          </span><span style="color:#88C0D0">salary</span><span style="color:#ECEFF4">:</span><span style="color:#B48EAD">88</span></span>
<span class="line"><span style="color:#D8DEE9FF">        </span><span style="color:#ECEFF4">}</span></span>
<span class="line"><span style="color:#D8DEE9FF">      </span><span style="color:#ECEFF4">}</span><span style="color:#D8DEE9FF">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ECEFF4">      </span><span style="color:#616E88">//情况一：监视ref定义的响应式数据</span></span>
<span class="line"><span style="color:#D8DEE9FF">      </span><span style="color:#616E88">/*watch(sum, (newValue, oldValue) =&gt; {</span></span>
<span class="line"><span style="color:#616E88">        console.log(&#x27;sum变化了&#x27;, newValue, oldValue)</span></span>
<span class="line"><span style="color:#616E88">      }, {immediate: true})</span></span>
<span class="line"></span>
<span class="line"><span style="color:#616E88">      //情况二：监视多个ref定义的响应式数据</span></span>
<span class="line"><span style="color:#616E88">      watch([sum, msg], (newValue, oldValue) =&gt; {</span></span>
<span class="line"><span style="color:#616E88">        console.log(&#x27;sum或msg变化了&#x27;, newValue, oldValue)</span></span>
<span class="line"><span style="color:#616E88">      })</span></span>
<span class="line"></span>
<span class="line"><span style="color:#616E88">      /!* 情况三：监视reactive定义的响应式数据(也就是监视的是person整个对象，则会自动强制开启深度监视)</span></span>
<span class="line"><span style="color:#616E88">            若watch监视的是reactive定义的响应式数据，则无法正确获得oldValue！！</span></span>
<span class="line"><span style="color:#616E88">            若watch监视的是reactive定义的响应式数据，则强制开启了深度监视</span></span>
<span class="line"><span style="color:#616E88">      *!/</span></span>
<span class="line"><span style="color:#616E88">      watch(person, (newValue, oldValue) =&gt; {</span></span>
<span class="line"><span style="color:#616E88">        console.log(&#x27;person变化了&#x27;, newValue, oldValue)</span></span>
<span class="line"><span style="color:#616E88">      }, {immediate: true, deep: false}) //此处的deep配置不再奏效</span></span>
<span class="line"></span>
<span class="line"><span style="color:#616E88">      //情况四：监视reactive定义的响应式数据中的某个属性</span></span>
<span class="line"><span style="color:#616E88">      watch(() =&gt; person.job, (newValue, oldValue) =&gt; {</span></span>
<span class="line"><span style="color:#616E88">        console.log(&#x27;person的job变化了&#x27;, newValue, oldValue)</span></span>
<span class="line"><span style="color:#616E88">      }, {immediate: true, deep: true})</span></span>
<span class="line"></span>
<span class="line"><span style="color:#616E88">      //情况五：监视reactive定义的响应式数据中的某些属性</span></span>
<span class="line"><span style="color:#616E88">      watch([() =&gt; person.job, () =&gt; person.name], (newValue, oldValue) =&gt; {</span></span>
<span class="line"><span style="color:#616E88">        console.log(&#x27;person的job变化了&#x27;, newValue, oldValue)</span></span>
<span class="line"><span style="color:#616E88">      }, {immediate: true, deep: true})</span></span>
<span class="line"><span style="color:#616E88">*/</span></span>
<span class="line"><span style="color:#ECEFF4">      </span><span style="color:#616E88">//特殊情况</span></span>
<span class="line"><span style="color:#D8DEE9FF">      </span><span style="color:#88C0D0">watch</span><span style="color:#ECEFF4">(</span><span style="color:#D8DEE9FF">(</span><span style="color:#ECEFF4">)</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">=&gt;</span><span style="color:#D8DEE9FF"> person</span><span style="color:#ECEFF4">.</span><span style="color:#D8DEE9FF">job</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9FF"> (</span><span style="color:#D8DEE9">newValue</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9FF"> oldValue) =&gt; </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">        </span><span style="color:#D8DEE9">console</span><span style="color:#ECEFF4">.</span><span style="color:#88C0D0">log</span><span style="color:#D8DEE9FF">(</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">person的job变化了</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">newValue</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">oldValue</span><span style="color:#D8DEE9FF">)</span></span>
<span class="line"><span style="color:#D8DEE9FF">      </span><span style="color:#ECEFF4">},</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span><span style="color:#D8DEE9FF">deep</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">true</span><span style="color:#ECEFF4">}</span><span style="color:#D8DEE9FF">) </span><span style="color:#616E88">//此处由于监视的是reactive素定义的对象中的某个属性，所以deep配置有效</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D8DEE9FF">      return </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">        </span><span style="color:#D8DEE9">sum</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9FF">        </span><span style="color:#D8DEE9">msg</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9FF">        </span><span style="color:#D8DEE9">person</span></span>
<span class="line"><span style="color:#D8DEE9FF">      </span><span style="color:#ECEFF4">}</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#ECEFF4">}</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#81A1C1">}</span></span>
<span class="line"><span style="color:#D8DEE9">&lt;/script&gt;</span></span>
<span class="line"></span></code></pre></div>
<h3 id="watcheffect函数"><a class="header-anchor" href="#watcheffect函数"><span class="icon icon-link"></span></a>watchEffect函数</h3>
<blockquote>
<p><strong>watch的套路是</strong>：既要指明监视的属性，也要指明监视的回调。<br/>
<strong>watchEffect的套路是</strong>：不用指明监视哪个属性，监视的回调中用到哪个属性，那就监视哪个属性。<br/>
<strong>watchEffect有点像computed</strong>：</p>
</blockquote>
<ul>
<li>但computed注重的计算出来的值（回调函数的返回值），所以必须要写返回值。</li>
<li>而watchEffect更注重的是过程（回调函数的函数体），所以不用写返回值。</li>
</ul>
<div class="language-javascript"><div class="highlight-tools"><span class="lang">javascript</span></div><pre class="shiki nord" style="background-color:#2e3440ff" tabindex="0"><code><span class="line"><span style="color:#616E88">//watchEffect所指定的回调中用到的数据只要发生变化，则直接重新执行回调。</span></span>
<span class="line"><span style="color:#88C0D0">watchEffect</span><span style="color:#D8DEE9FF">(</span><span style="color:#ECEFF4">()</span><span style="color:#81A1C1">=&gt;</span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#81A1C1">const</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">x1</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">=</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">sum</span><span style="color:#ECEFF4">.</span><span style="color:#D8DEE9">value</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#81A1C1">const</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">x2</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">=</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">person</span><span style="color:#ECEFF4">.</span><span style="color:#D8DEE9">age</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#D8DEE9">console</span><span style="color:#ECEFF4">.</span><span style="color:#88C0D0">log</span><span style="color:#D8DEE9FF">(</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">watchEffect配置的回调执行了</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#D8DEE9FF">)</span></span>
<span class="line"><span style="color:#ECEFF4">}</span><span style="color:#D8DEE9FF">)</span></span>
<span class="line"></span></code></pre></div>
<h2 id="vue3生命周期"><a class="header-anchor" href="#vue3生命周期"><span class="icon icon-link"></span></a>Vue3生命周期</h2>
<p>Vue3.0中可以继续使用Vue2.x中的生命周期钩子，但有有两个被更名：</p>
<ul>
<li><code>beforeDestroy</code>改名为 <code>beforeUnmount</code></li>
<li><code>destroyed</code>改名为 <code>unmounted</code></li>
</ul>
<p>Vue3.0也提供了 Composition API 形式的生命周期钩子，与Vue2.x中钩子对应关系如下：</p>
<ul>
<li><code>beforeCreate</code>==&gt;<code>setup()</code></li>
<li><code>created</code> ==&gt;<code>setup()</code></li>
<li><code>beforeMount</code> ==&gt;<code>onBeforeMount</code></li>
<li><code>mounted</code>==&gt;<code>onMounted</code></li>
<li><code>beforeUpdate</code>==&gt;<code>onBeforeUpdate</code></li>
<li><code>updated</code> ==&gt;<code>onUpdated</code></li>
<li><code>beforeUnmount</code> ==&gt;<code>onBeforeUnmount</code></li>
<li>u<code>nmounted</code> ==&gt;<code>onUnmounted</code></li>
</ul>
<p>使用组合式 API 名称时，在前面添加 <code>onXxxx</code></p>
<p><img src="http://GitHubxxx17.github.io/img/vue/8.png" alt="" class="article-img"/></p>
<h2 id="自定义hook函数"><a class="header-anchor" href="#自定义hook函数"><span class="icon icon-link"></span></a>自定义hook函数</h2>
<blockquote>
<p>什么是hook？—— 本质是一个函数，把setup函数中使用到的Composition API（组合式API）进行了封装。<br/>
类似于vue2.x中的mixin。<br/>
自定义hook的优势：</p>
</blockquote>
<ul>
<li>复用代码。</li>
<li>让setup中的逻辑更清楚易懂。<br/>
在工程目录下创建一个hooks文件夹，里面的文件命名规则useXxxx 明起意</li>
</ul>
<p>使用案例<br/>
hooks/usePont.js</p>
<div class="language-javascript"><div class="highlight-tools"><span class="lang">javascript</span></div><pre class="shiki nord" style="background-color:#2e3440ff" tabindex="0"><code><span class="line"><span style="color:#616E88">// 引入需要的组合</span></span>
<span class="line"><span style="color:#81A1C1">import</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span><span style="color:#8FBCBB">reactive</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9FF"> </span><span style="color:#8FBCBB">onBeforeMount</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9FF"> </span><span style="color:#8FBCBB">onBeforeUnmount</span><span style="color:#ECEFF4">}</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">from</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">&quot;</span><span style="color:#A3BE8C">vue</span><span style="color:#ECEFF4">&quot;</span><span style="color:#81A1C1">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#616E88">// 创建函数 点击函数并且暴露出去</span></span>
<span class="line"><span style="color:#81A1C1">export</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">default</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">function</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">()</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#ECEFF4">  </span><span style="color:#616E88">// 实现鼠标点击获取坐标数据</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#81A1C1">let</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">point</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">=</span><span style="color:#D8DEE9FF"> </span><span style="color:#88C0D0">reactive</span><span style="color:#D8DEE9FF">(</span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#88C0D0">x</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#B48EAD">0</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#88C0D0">y</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#B48EAD">0</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#ECEFF4">}</span><span style="color:#D8DEE9FF">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ECEFF4">  </span><span style="color:#616E88">// 实现方法</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#81A1C1">function</span><span style="color:#D8DEE9FF"> </span><span style="color:#88C0D0">doPoint</span><span style="color:#ECEFF4">(</span><span style="color:#D8DEE9">e</span><span style="color:#ECEFF4">)</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#D8DEE9">point</span><span style="color:#ECEFF4">.</span><span style="color:#D8DEE9">x</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">=</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">e</span><span style="color:#ECEFF4">.</span><span style="color:#D8DEE9">pageX</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#D8DEE9">point</span><span style="color:#ECEFF4">.</span><span style="color:#D8DEE9">y</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">=</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">e</span><span style="color:#ECEFF4">.</span><span style="color:#D8DEE9">pageY</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#D8DEE9">console</span><span style="color:#ECEFF4">.</span><span style="color:#88C0D0">log</span><span style="color:#D8DEE9FF">(</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">点击坐标为：(</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">+</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">e</span><span style="color:#ECEFF4">.</span><span style="color:#D8DEE9">pageX</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">+</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">,</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">+</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">e</span><span style="color:#ECEFF4">.</span><span style="color:#D8DEE9">pageY</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">+</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">)</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#D8DEE9FF">)</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#ECEFF4">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ECEFF4">  </span><span style="color:#616E88">// 调用生命周期钩子-- 挂载之前 添加事件</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#88C0D0">onBeforeMount</span><span style="color:#D8DEE9FF">(</span><span style="color:#ECEFF4">()</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">=&gt;</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#D8DEE9">window</span><span style="color:#ECEFF4">.</span><span style="color:#88C0D0">addEventListener</span><span style="color:#D8DEE9FF">(</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">mousemove</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">doPoint</span><span style="color:#D8DEE9FF">)</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#ECEFF4">}</span><span style="color:#D8DEE9FF">)</span></span>
<span class="line"><span style="color:#ECEFF4">  </span><span style="color:#616E88">// 调用生命周期钩子-- 卸载挂载之前 移除事件</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#88C0D0">onBeforeUnmount</span><span style="color:#D8DEE9FF">(</span><span style="color:#ECEFF4">()</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">=&gt;</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#D8DEE9">window</span><span style="color:#ECEFF4">.</span><span style="color:#88C0D0">removeEventListener</span><span style="color:#D8DEE9FF">(</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">mousemove</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">doPoint</span><span style="color:#D8DEE9FF">)</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#ECEFF4">}</span><span style="color:#D8DEE9FF">)</span></span>
<span class="line"><span style="color:#ECEFF4">  </span><span style="color:#616E88">// 必须返回point 不然没有数据传入，报错</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#81A1C1">return</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">point</span></span>
<span class="line"><span style="color:#ECEFF4">}</span></span>
<span class="line"></span></code></pre></div>
<p>CustomHooksDemo.vue</p>
<div class="language-javascript"><div class="highlight-tools"><span class="lang">javascript</span></div><pre class="shiki nord" style="background-color:#2e3440ff" tabindex="0"><code><span class="line"><span style="color:#81A1C1">&lt;template&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#81A1C1">&lt;h1&gt;</span><span style="color:#D8DEE9FF">当前求和结果:</span><span style="color:#81A1C1">{</span><span style="color:#ECEFF4">{</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">sum</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">}</span><span style="color:#81A1C1">}&lt;/h1&gt;&lt;br&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#81A1C1">&lt;button</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">@click=&quot;sum++&quot;&gt;sum+1&lt;/button&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#D8DEE9">&lt;hr&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#D8DEE9">&lt;h1&gt;当前鼠标坐标为:({{</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">point.x</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">}},{{point.y}})&lt;/h1&gt;&lt;br&gt;</span></span>
<span class="line"><span style="color:#D8DEE9">&lt;/template&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D8DEE9">&lt;script&gt;</span></span>
<span class="line"><span style="color:#ECEFF4">  </span><span style="color:#616E88">// 引入需要的组合</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#8FBCBB">import</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">{</span><span style="color:#D8DEE9">ref</span><span style="color:#81A1C1">}</span><span style="color:#D8DEE9FF"> </span><span style="color:#8FBCBB">from</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">&quot;</span><span style="color:#A3BE8C">vue</span><span style="color:#ECEFF4">&quot;</span><span style="color:#D8DEE9">;</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#8FBCBB">import</span><span style="color:#D8DEE9FF"> </span><span style="color:#8FBCBB">usePoint</span><span style="color:#D8DEE9FF"> </span><span style="color:#8FBCBB">from</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">&quot;</span><span style="color:#A3BE8C">../hooks/usePoint</span><span style="color:#ECEFF4">&quot;</span><span style="color:#D8DEE9">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#8FBCBB">export</span><span style="color:#D8DEE9FF"> </span><span style="color:#8FBCBB">default</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#D8DEE9">name</span><span style="color:#D8DEE9FF">: </span><span style="color:#ECEFF4">&quot;</span><span style="color:#A3BE8C">CustomHooksDemo</span><span style="color:#ECEFF4">&quot;</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#88C0D0">setup</span><span style="color:#D8DEE9FF">() </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">      console.log(</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">组合setup--------</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#88C0D0">)</span></span>
<span class="line"><span style="color:#ECEFF4">      </span><span style="color:#616E88">// 监视的数据</span></span>
<span class="line"><span style="color:#88C0D0">      let sum = ref(0)</span></span>
<span class="line"><span style="color:#ECEFF4">      </span><span style="color:#616E88">// 调用引入的usePoint函数</span></span>
<span class="line"><span style="color:#88C0D0">      let point = usePoint()</span></span>
<span class="line"><span style="color:#88C0D0">      return {sum,point}</span></span>
<span class="line"><span style="color:#88C0D0">    },</span></span>
<span class="line"><span style="color:#88C0D0">  }</span></span>
<span class="line"><span style="color:#88C0D0">&lt;/script&gt;</span></span>
<span class="line"></span></code></pre></div>
<p>Test.vue</p>
<div class="language-javascript"><div class="highlight-tools"><span class="lang">javascript</span></div><pre class="shiki nord" style="background-color:#2e3440ff" tabindex="0"><code><span class="line"><span style="color:#81A1C1">&lt;template&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#81A1C1">&lt;h1&gt;</span><span style="color:#D8DEE9FF">当前鼠标坐标为:(</span><span style="color:#81A1C1">{</span><span style="color:#ECEFF4">{</span><span style="color:#D8DEE9FF"> point.</span><span style="color:#D8DEE9">x</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">}</span><span style="color:#81A1C1">}</span><span style="color:#D8DEE9FF">,</span><span style="color:#81A1C1">{</span><span style="color:#ECEFF4">{</span><span style="color:#D8DEE9FF"> point.</span><span style="color:#D8DEE9">y</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">}</span><span style="color:#81A1C1">}</span><span style="color:#D8DEE9FF">)</span><span style="color:#81A1C1">&lt;/h1&gt;&lt;br&gt;</span></span>
<span class="line"><span style="color:#81A1C1">&lt;/template&gt;</span></span>
<span class="line"><span style="color:#81A1C1">&lt;script&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">  // 引入需要的组合</span></span>
<span class="line"><span style="color:#D8DEE9FF">  import usePoint from &quot;../hooks/usePoint&quot;;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D8DEE9FF">  export default </span><span style="color:#81A1C1">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#D8DEE9">name</span><span style="color:#D8DEE9FF">: </span><span style="color:#ECEFF4">&quot;</span><span style="color:#A3BE8C">Test</span><span style="color:#ECEFF4">&quot;</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#88C0D0">setup</span><span style="color:#D8DEE9FF">() </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#ECEFF4">      </span><span style="color:#616E88">// 调用usePoint函数，使用里面的鼠标移动来获取到坐标</span></span>
<span class="line"><span style="color:#D8DEE9FF">      const </span><span style="color:#D8DEE9">point</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">=</span><span style="color:#D8DEE9FF"> </span><span style="color:#88C0D0">usePoint</span><span style="color:#D8DEE9FF">()</span></span>
<span class="line"><span style="color:#D8DEE9FF">      return </span><span style="color:#ECEFF4">{</span><span style="color:#D8DEE9">point</span><span style="color:#ECEFF4">}</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#ECEFF4">}</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#81A1C1">}</span></span>
<span class="line"><span style="color:#81A1C1">&lt;/script&gt;</span></span>
<span class="line"></span></code></pre></div>
<p>APP.vue</p>
<div class="language-javascript"><div class="highlight-tools"><span class="lang">javascript</span></div><pre class="shiki nord" style="background-color:#2e3440ff" tabindex="0"><code><span class="line"><span style="color:#81A1C1">&lt;!--</span><span style="color:#D8DEE9">Vue3的自定义hook</span><span style="color:#81A1C1">--&gt;</span></span>
<span class="line"><span style="color:#81A1C1">&lt;template&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#81A1C1">&lt;button</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">@click=&quot;isShowDate</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">=</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">!isShowDate&quot;&gt;隐藏/显示&lt;/button&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#D8DEE9">&lt;LifecycleDemo</span><span style="color:#D8DEE9FF"> </span><span style="color:#8FBCBB">v-if</span><span style="color:#81A1C1">=</span><span style="color:#ECEFF4">&quot;</span><span style="color:#A3BE8C">isShowDate</span><span style="color:#ECEFF4">&quot;</span><span style="color:#81A1C1">/&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#81A1C1">&lt;hr&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#81A1C1">&lt;</span><span style="color:#8FBCBB">Test</span><span style="color:#81A1C1">/&gt;</span></span>
<span class="line"><span style="color:#81A1C1">&lt;/template&gt;</span></span>
<span class="line"><span style="color:#81A1C1">&lt;script&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">  // 引入组件</span></span>
<span class="line"><span style="color:#D8DEE9FF">  import LifecycleDemo from &quot;./components/CustomHooksDemo&quot;;</span></span>
<span class="line"><span style="color:#D8DEE9FF">  import Test from &quot;./components/Test&quot;;</span></span>
<span class="line"><span style="color:#D8DEE9FF">  // 引入组合</span></span>
<span class="line"><span style="color:#D8DEE9FF">  import </span><span style="color:#81A1C1">{</span><span style="color:#D8DEE9">ref</span><span style="color:#81A1C1">}</span><span style="color:#D8DEE9FF"> from &#x27;vue&#x27;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D8DEE9FF">  export default </span><span style="color:#81A1C1">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#D8DEE9">name</span><span style="color:#D8DEE9FF">: </span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">App</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#ECEFF4">    </span><span style="color:#616E88">// 注册组件</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#D8DEE9">components</span><span style="color:#D8DEE9FF">: </span><span style="color:#ECEFF4">{</span><span style="color:#D8DEE9">LifecycleDemo</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9">Test</span><span style="color:#ECEFF4">},</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#88C0D0">setup</span><span style="color:#D8DEE9FF">() </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">      let </span><span style="color:#D8DEE9">isShowDate</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">=</span><span style="color:#D8DEE9FF"> </span><span style="color:#88C0D0">ref</span><span style="color:#D8DEE9FF">(</span><span style="color:#81A1C1">true</span><span style="color:#D8DEE9FF">)</span></span>
<span class="line"><span style="color:#D8DEE9FF">      return </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">        </span><span style="color:#D8DEE9">isShowDate</span></span>
<span class="line"><span style="color:#D8DEE9FF">      </span><span style="color:#ECEFF4">}</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#ECEFF4">}</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#81A1C1">}</span></span>
<span class="line"><span style="color:#81A1C1">&lt;/script&gt;</span></span>
<span class="line"></span></code></pre></div>
<h2 id="toref"><a class="header-anchor" href="#toref"><span class="icon icon-link"></span></a>toRef</h2>
<blockquote>
<p><strong>作用</strong>：创建一个 ref 对象，其value值指向另一个对象中的某个属性。<br/>
<strong>语法</strong>：<code>const name = toRef(person,&#x27;name&#x27;)</code><br/>
<strong>应用</strong>: 要将响应式对象中的某个属性单独提供给外部使用时。<br/>
<strong>扩展</strong>：toRefs与toRef功能一致，但可以批量创建多个 ref 对象，语法：<code>toRefs(person)</code></p>
</blockquote>
<div class="language-javascript"><div class="highlight-tools"><span class="lang">javascript</span></div><pre class="shiki nord" style="background-color:#2e3440ff" tabindex="0"><code><span class="line"><span style="color:#81A1C1">&lt;template&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#81A1C1">&lt;h1</span><span style="color:#D8DEE9FF"> </span><span style="color:#8FBCBB">v-show</span><span style="color:#81A1C1">=</span><span style="color:#ECEFF4">&quot;</span><span style="color:#A3BE8C">person.name</span><span style="color:#ECEFF4">&quot;</span><span style="color:#81A1C1">&gt;</span><span style="color:#D8DEE9FF">姓名:</span><span style="color:#81A1C1">{</span><span style="color:#ECEFF4">{</span><span style="color:#D8DEE9FF">person.</span><span style="color:#D8DEE9">name</span><span style="color:#ECEFF4">}</span><span style="color:#81A1C1">}&lt;/h1&gt;&lt;br&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#81A1C1">&lt;h1</span><span style="color:#D8DEE9FF"> </span><span style="color:#8FBCBB">v-show</span><span style="color:#81A1C1">=</span><span style="color:#ECEFF4">&quot;</span><span style="color:#A3BE8C">person.age</span><span style="color:#ECEFF4">&quot;</span><span style="color:#81A1C1">&gt;</span><span style="color:#D8DEE9FF">年龄:</span><span style="color:#81A1C1">{</span><span style="color:#ECEFF4">{</span><span style="color:#D8DEE9FF">person.</span><span style="color:#D8DEE9">age</span><span style="color:#ECEFF4">}</span><span style="color:#81A1C1">}&lt;/h1&gt;&lt;br&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#81A1C1">&lt;h1</span><span style="color:#D8DEE9FF"> </span><span style="color:#8FBCBB">v-show</span><span style="color:#81A1C1">=</span><span style="color:#ECEFF4">&quot;</span><span style="color:#A3BE8C">person.job.salary</span><span style="color:#ECEFF4">&quot;</span><span style="color:#81A1C1">&gt;</span><span style="color:#D8DEE9FF">薪资:</span><span style="color:#81A1C1">{</span><span style="color:#ECEFF4">{</span><span style="color:#D8DEE9FF">person.job.</span><span style="color:#D8DEE9">salary</span><span style="color:#ECEFF4">}</span><span style="color:#81A1C1">}</span><span style="color:#D8DEE9FF">K</span><span style="color:#81A1C1">&lt;/h1&gt;&lt;br&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#81A1C1">&lt;button</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">@click=&quot;person.name+=&#x27;~&#x27;&quot;&gt;姓名修改&lt;/button&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#D8DEE9">&lt;button</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">@click=&quot;person.age++&quot;&gt;年龄增加&lt;/button&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#D8DEE9">&lt;button</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">@click=&quot;person.job.salary++&quot;&gt;薪资++&lt;/button&gt;</span></span>
<span class="line"><span style="color:#D8DEE9">&lt;/template&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D8DEE9">&lt;script&gt;</span></span>
<span class="line"><span style="color:#ECEFF4">  </span><span style="color:#616E88">// 引入toRef、toRefs组合</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#8FBCBB">import</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">{</span><span style="color:#D8DEE9">reactive</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9">toRef</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9">toRefs</span><span style="color:#81A1C1">}</span><span style="color:#D8DEE9FF"> </span><span style="color:#8FBCBB">from</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">&quot;</span><span style="color:#A3BE8C">vue</span><span style="color:#ECEFF4">&quot;</span><span style="color:#D8DEE9">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#8FBCBB">export</span><span style="color:#D8DEE9FF"> </span><span style="color:#8FBCBB">default</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#D8DEE9">name</span><span style="color:#D8DEE9FF">: </span><span style="color:#ECEFF4">&quot;</span><span style="color:#A3BE8C">toRef</span><span style="color:#ECEFF4">&quot;</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#88C0D0">setup</span><span style="color:#D8DEE9FF">() </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#ECEFF4">      </span><span style="color:#616E88">// 监视的数据</span></span>
<span class="line"><span style="color:#D8DEE9FF">      let </span><span style="color:#D8DEE9">person</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">=</span><span style="color:#D8DEE9FF"> </span><span style="color:#88C0D0">reactive</span><span style="color:#D8DEE9FF">(</span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">        </span><span style="color:#88C0D0">name</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">Shier</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9FF">        </span><span style="color:#88C0D0">age</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#B48EAD">19</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9FF">        </span><span style="color:#88C0D0">job</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">          </span><span style="color:#88C0D0">job1</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">全栈</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9FF">          </span><span style="color:#88C0D0">salary</span><span style="color:#ECEFF4">:</span><span style="color:#B48EAD">88</span></span>
<span class="line"><span style="color:#D8DEE9FF">        </span><span style="color:#ECEFF4">}</span></span>
<span class="line"><span style="color:#D8DEE9FF">      </span><span style="color:#ECEFF4">}</span><span style="color:#D8DEE9FF">)</span></span>
<span class="line"><span style="color:#ECEFF4">      </span><span style="color:#616E88">// toRef</span></span>
<span class="line"><span style="color:#D8DEE9FF">      let </span><span style="color:#D8DEE9">nameRef</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">=</span><span style="color:#D8DEE9FF"> </span><span style="color:#88C0D0">toRef</span><span style="color:#D8DEE9FF">(</span><span style="color:#D8DEE9">person</span><span style="color:#ECEFF4">,</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">name</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#D8DEE9FF">); </span><span style="color:#616E88">// 第一个参数为数据对象，第二个参数为数据对象的属性</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D8DEE9FF">      return </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">        </span><span style="color:#D8DEE9">person</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#ECEFF4">        </span><span style="color:#616E88">// toRef 写法</span></span>
<span class="line"><span style="color:#D8DEE9FF">        name</span><span style="color:#ECEFF4">:</span><span style="color:#88C0D0">toRef</span><span style="color:#D8DEE9FF">(</span><span style="color:#D8DEE9">person</span><span style="color:#ECEFF4">,</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">name</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#D8DEE9FF">)</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9FF">        salary</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#88C0D0">toRef</span><span style="color:#D8DEE9FF">(</span><span style="color:#D8DEE9">person</span><span style="color:#ECEFF4">.</span><span style="color:#D8DEE9">job</span><span style="color:#ECEFF4">,</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">salary</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#D8DEE9FF">)</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#ECEFF4">        </span><span style="color:#616E88">// toRefs写法</span></span>
<span class="line"><span style="color:#D8DEE9FF">        </span><span style="color:#81A1C1">...</span><span style="color:#88C0D0">toRefs</span><span style="color:#D8DEE9FF">(</span><span style="color:#D8DEE9">person</span><span style="color:#D8DEE9FF">) </span><span style="color:#616E88">// 将person中多个属性返回给模板使用</span></span>
<span class="line"><span style="color:#D8DEE9FF">      </span><span style="color:#ECEFF4">}</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#ECEFF4">}</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#81A1C1">}</span></span>
<span class="line"><span style="color:#D8DEE9">&lt;/script&gt;</span></span>
<span class="line"></span></code></pre></div>
<h1 id="其它-composition-api组合api"><a class="header-anchor" href="#其它-composition-api组合api"><span class="icon icon-link"></span></a>其它 Composition API（组合API）</h1>
<h2 id="shallowreactive-与-shallowref"><a class="header-anchor" href="#shallowreactive-与-shallowref"><span class="icon icon-link"></span></a>shallowReactive 与 shallowRef</h2>
<blockquote>
<p><strong>shallowReactive</strong>：只处理对象最外层属性的响应式（浅响应式）。<br/>
<strong>shallowRef</strong>：只处理基本数据类型的响应式，不进行对象的响应式处理。<br/>
什么时候使用?<br/>
如果有一个对象数据，结构比较深， 但变化时只是外层属性变化 ===&gt; <code>shallowReactive</code>。<br/>
如果有一个对象数据，后续功能不会修改该对象中的属性，而是生新的对象来替换 ===&gt; <code>shallowRef</code>。</p>
</blockquote>
<h2 id="readonly-与-shallowreadonly"><a class="header-anchor" href="#readonly-与-shallowreadonly"><span class="icon icon-link"></span></a>readonly 与 shallowReadonly</h2>
<p><strong>readonly</strong>: 让一个响应式数据变为只读的（深只读）。<br/>
<strong>shallowReadonly</strong>：让一个响应式数据变为只读的（浅只读）。<br/>
<strong>应用场景</strong>: 不希望数据被修改时。</p>
<div class="language-javascript"><div class="highlight-tools"><span class="lang">javascript</span></div><pre class="shiki nord" style="background-color:#2e3440ff" tabindex="0"><code><span class="line"><span style="color:#81A1C1">&lt;template&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#81A1C1">&lt;h1&gt;</span><span style="color:#D8DEE9FF">姓名:</span><span style="color:#81A1C1">{</span><span style="color:#ECEFF4">{</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">name</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">}</span><span style="color:#81A1C1">}&lt;/h1&gt;&lt;br&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#81A1C1">&lt;h1&gt;</span><span style="color:#D8DEE9FF">年龄:</span><span style="color:#81A1C1">{</span><span style="color:#ECEFF4">{</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">age</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">}</span><span style="color:#81A1C1">}&lt;/h1&gt;&lt;br&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#81A1C1">&lt;h1&gt;</span><span style="color:#D8DEE9FF">薪资:</span><span style="color:#81A1C1">{</span><span style="color:#ECEFF4">{</span><span style="color:#D8DEE9FF"> job.job1.</span><span style="color:#D8DEE9">salary</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">}</span><span style="color:#81A1C1">}</span><span style="color:#D8DEE9FF">K</span><span style="color:#81A1C1">&lt;/h1&gt;&lt;br&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#81A1C1">&lt;button</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">@click=&quot;name+=&#x27;~&#x27;&quot;&gt;姓名修改&lt;/button&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#D8DEE9">&lt;button</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">@click=&quot;age++&quot;&gt;年龄增加&lt;/button&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#D8DEE9">&lt;button</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">@click=&quot;job.job1.salary++&quot;&gt;薪资++&lt;/button&gt;</span></span>
<span class="line"><span style="color:#D8DEE9">&lt;/template&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D8DEE9">&lt;script&gt;</span></span>
<span class="line"><span style="color:#ECEFF4">  </span><span style="color:#616E88">// 引入组合</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#8FBCBB">import</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">{</span><span style="color:#D8DEE9">reactive</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">toRefs</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">readonly</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9">shallowReadonly</span><span style="color:#81A1C1">}</span><span style="color:#D8DEE9FF"> </span><span style="color:#8FBCBB">from</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">&quot;</span><span style="color:#A3BE8C">vue</span><span style="color:#ECEFF4">&quot;</span><span style="color:#D8DEE9">;</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#8FBCBB">export</span><span style="color:#D8DEE9FF"> </span><span style="color:#8FBCBB">default</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#D8DEE9">name</span><span style="color:#D8DEE9FF">: </span><span style="color:#ECEFF4">&quot;</span><span style="color:#A3BE8C">toRef</span><span style="color:#ECEFF4">&quot;</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#88C0D0">setup</span><span style="color:#D8DEE9FF">() </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#ECEFF4">      </span><span style="color:#616E88">// 监视的数据</span></span>
<span class="line"><span style="color:#D8DEE9FF">      let </span><span style="color:#D8DEE9">person</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">=</span><span style="color:#D8DEE9FF"> </span><span style="color:#88C0D0">reactive</span><span style="color:#D8DEE9FF">(</span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">        </span><span style="color:#88C0D0">name</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">Shier</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9FF">        </span><span style="color:#88C0D0">age</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#B48EAD">19</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9FF">        </span><span style="color:#88C0D0">job</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">          </span><span style="color:#88C0D0">job1</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">            </span><span style="color:#88C0D0">jobs11</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">全栈</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9FF">            </span><span style="color:#88C0D0">salary</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#B48EAD">88</span></span>
<span class="line"><span style="color:#D8DEE9FF">          </span><span style="color:#ECEFF4">}</span></span>
<span class="line"><span style="color:#D8DEE9FF">        </span><span style="color:#ECEFF4">}</span></span>
<span class="line"><span style="color:#D8DEE9FF">      </span><span style="color:#ECEFF4">}</span><span style="color:#D8DEE9FF">)</span></span>
<span class="line"><span style="color:#ECEFF4">      </span><span style="color:#616E88">// 全部只读的</span></span>
<span class="line"><span style="color:#D8DEE9FF">      </span><span style="color:#D8DEE9">person</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">=</span><span style="color:#D8DEE9FF"> </span><span style="color:#88C0D0">readonly</span><span style="color:#D8DEE9FF">(</span><span style="color:#D8DEE9">person</span><span style="color:#D8DEE9FF">)</span></span>
<span class="line"><span style="color:#ECEFF4">      </span><span style="color:#616E88">// 浅层的是只读，深层的为是可修改的</span></span>
<span class="line"><span style="color:#D8DEE9FF">      </span><span style="color:#D8DEE9">person</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">=</span><span style="color:#D8DEE9FF"> </span><span style="color:#88C0D0">shallowReadonly</span><span style="color:#D8DEE9FF">(</span><span style="color:#D8DEE9">person</span><span style="color:#D8DEE9FF">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D8DEE9FF">      return </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">        </span><span style="color:#D8DEE9">person</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#ECEFF4">        </span><span style="color:#616E88">// toRefs写法</span></span>
<span class="line"><span style="color:#D8DEE9FF">        </span><span style="color:#81A1C1">...</span><span style="color:#88C0D0">toRefs</span><span style="color:#D8DEE9FF">(</span><span style="color:#D8DEE9">person</span><span style="color:#D8DEE9FF">)</span></span>
<span class="line"><span style="color:#D8DEE9FF">      </span><span style="color:#ECEFF4">}</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#ECEFF4">}</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#81A1C1">}</span></span>
<span class="line"><span style="color:#D8DEE9">&lt;/script&gt;</span></span>
<span class="line"></span></code></pre></div>
<h2 id="toraw-与-markraw"><a class="header-anchor" href="#toraw-与-markraw"><span class="icon icon-link"></span></a>toRaw 与 markRaw</h2>
<blockquote>
<p><strong>toRaw</strong>：<br/>
<strong>作用</strong>：将一个由reactive生成的响应式对象转为普通对象。<br/>
<strong>使用场景</strong>：用于读取响应式对象对应的普通对象，对这个普通对象的所有操作，不会引起页面更新。<br/>
<strong>markRaw</strong>：<br/>
<strong>作用</strong>：标记一个对象，使其永远不会再成为响应式对象。<br/>
<strong>应用场景</strong>:</p>
</blockquote>
<ul>
<li>有些值不应被设置为响应式的，例如复杂的第三方类库等。</li>
<li>当渲染具有不可变数据源的大列表时，跳过响应式转换可以提高性能。</li>
</ul>
<h2 id="customref"><a class="header-anchor" href="#customref"><span class="icon icon-link"></span></a>customRef</h2>
<p><strong>作用</strong>：创建一个自定义的 ref，并对其依赖项跟踪和更新触发进行显式控制。有两个参数：</p>
<ul>
<li><strong>trigger()</strong>：用来触发修改的内容，然后去更新模板</li>
<li><strong>track()</strong>：追踪<br/>
必须具有返回值</li>
</ul>
<p>实现防抖效果：</p>
<div class="language-javascript"><div class="highlight-tools"><span class="lang">javascript</span></div><pre class="shiki nord" style="background-color:#2e3440ff" tabindex="0"><code><span class="line"><span style="color:#81A1C1">&lt;template&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">	</span><span style="color:#81A1C1">&lt;input</span><span style="color:#D8DEE9FF"> </span><span style="color:#8FBCBB">type</span><span style="color:#81A1C1">=</span><span style="color:#ECEFF4">&quot;</span><span style="color:#A3BE8C">text</span><span style="color:#ECEFF4">&quot;</span><span style="color:#D8DEE9FF"> </span><span style="color:#8FBCBB">v-model</span><span style="color:#81A1C1">=</span><span style="color:#ECEFF4">&quot;</span><span style="color:#A3BE8C">keyword</span><span style="color:#ECEFF4">&quot;</span><span style="color:#81A1C1">&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">	</span><span style="color:#81A1C1">&lt;h3&gt;{</span><span style="color:#ECEFF4">{</span><span style="color:#D8DEE9">keyword</span><span style="color:#ECEFF4">}</span><span style="color:#81A1C1">}&lt;/h3&gt;</span></span>
<span class="line"><span style="color:#81A1C1">&lt;/template&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#81A1C1">&lt;script&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">	import </span><span style="color:#81A1C1">{</span><span style="color:#D8DEE9">ref</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9">customRef</span><span style="color:#81A1C1">}</span><span style="color:#D8DEE9FF"> from &#x27;vue&#x27;</span></span>
<span class="line"><span style="color:#D8DEE9FF">	export default </span><span style="color:#81A1C1">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">		</span><span style="color:#D8DEE9">name</span><span style="color:#D8DEE9FF">:</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">Demo</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9FF">		</span><span style="color:#88C0D0">setup</span><span style="color:#D8DEE9FF">()</span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#ECEFF4">			</span><span style="color:#616E88">// let keyword = ref(&#x27;hello&#x27;) //使用Vue准备好的内置ref</span></span>
<span class="line"><span style="color:#ECEFF4">			</span><span style="color:#616E88">//自定义一个myRef</span></span>
<span class="line"><span style="color:#D8DEE9FF">			function </span><span style="color:#88C0D0">myRef</span><span style="color:#ECEFF4">(</span><span style="color:#D8DEE9">value</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9">delay</span><span style="color:#ECEFF4">){</span></span>
<span class="line"><span style="color:#D8DEE9FF">				</span><span style="color:#81A1C1">let</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">timer</span></span>
<span class="line"><span style="color:#ECEFF4">				</span><span style="color:#616E88">//通过customRef去实现自定义</span></span>
<span class="line"><span style="color:#D8DEE9FF">				</span><span style="color:#81A1C1">return</span><span style="color:#D8DEE9FF"> </span><span style="color:#88C0D0">customRef</span><span style="color:#D8DEE9FF">(</span><span style="color:#ECEFF4">(</span><span style="color:#D8DEE9">track</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9">trigger</span><span style="color:#ECEFF4">)</span><span style="color:#81A1C1">=&gt;</span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">					</span><span style="color:#81A1C1">return</span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">						</span><span style="color:#88C0D0">get</span><span style="color:#ECEFF4">(){</span></span>
<span class="line"><span style="color:#D8DEE9FF">							</span><span style="color:#88C0D0">track</span><span style="color:#D8DEE9FF">() </span><span style="color:#616E88">//告诉Vue这个value值是需要被“追踪”的</span></span>
<span class="line"><span style="color:#D8DEE9FF">							</span><span style="color:#81A1C1">return</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">value</span></span>
<span class="line"><span style="color:#D8DEE9FF">						</span><span style="color:#ECEFF4">},</span></span>
<span class="line"><span style="color:#D8DEE9FF">						</span><span style="color:#88C0D0">set</span><span style="color:#ECEFF4">(</span><span style="color:#D8DEE9">newValue</span><span style="color:#ECEFF4">){</span></span>
<span class="line"><span style="color:#D8DEE9FF">							</span><span style="color:#88C0D0">clearTimeout</span><span style="color:#D8DEE9FF">(</span><span style="color:#D8DEE9">timer</span><span style="color:#D8DEE9FF">)</span></span>
<span class="line"><span style="color:#D8DEE9FF">							</span><span style="color:#D8DEE9">timer</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">=</span><span style="color:#D8DEE9FF"> </span><span style="color:#88C0D0">setTimeout</span><span style="color:#D8DEE9FF">(</span><span style="color:#ECEFF4">()</span><span style="color:#81A1C1">=&gt;</span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">								</span><span style="color:#D8DEE9">value</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">=</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">newValue</span></span>
<span class="line"><span style="color:#D8DEE9FF">								</span><span style="color:#88C0D0">trigger</span><span style="color:#D8DEE9FF">() </span><span style="color:#616E88">//告诉Vue去更新界面</span></span>
<span class="line"><span style="color:#D8DEE9FF">							</span><span style="color:#ECEFF4">},</span><span style="color:#D8DEE9">delay</span><span style="color:#D8DEE9FF">)</span></span>
<span class="line"><span style="color:#D8DEE9FF">						</span><span style="color:#ECEFF4">}</span></span>
<span class="line"><span style="color:#D8DEE9FF">					</span><span style="color:#ECEFF4">}</span></span>
<span class="line"><span style="color:#D8DEE9FF">				</span><span style="color:#ECEFF4">}</span><span style="color:#D8DEE9FF">)</span></span>
<span class="line"><span style="color:#D8DEE9FF">			</span><span style="color:#ECEFF4">}</span></span>
<span class="line"><span style="color:#D8DEE9FF">			let </span><span style="color:#D8DEE9">keyword</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">=</span><span style="color:#D8DEE9FF"> </span><span style="color:#88C0D0">myRef</span><span style="color:#D8DEE9FF">(</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">hello</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#ECEFF4">,</span><span style="color:#B48EAD">500</span><span style="color:#D8DEE9FF">) </span><span style="color:#616E88">//使用程序员自定义的ref</span></span>
<span class="line"><span style="color:#D8DEE9FF">			return </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">				</span><span style="color:#D8DEE9">keyword</span></span>
<span class="line"><span style="color:#D8DEE9FF">			</span><span style="color:#ECEFF4">}</span></span>
<span class="line"><span style="color:#D8DEE9FF">		</span><span style="color:#ECEFF4">}</span></span>
<span class="line"><span style="color:#D8DEE9FF">	</span><span style="color:#81A1C1">}</span></span>
<span class="line"><span style="color:#81A1C1">&lt;/script&gt;</span></span>
<span class="line"></span></code></pre></div>
<h2 id="provide-与-inject"><a class="header-anchor" href="#provide-与-inject"><span class="icon icon-link"></span></a>provide 与 inject</h2>
<p><strong>作用</strong>：实现祖与后代组件间通信<br/>
<strong>套路</strong>：父组件有一个 provide 选项来提供数据，后代组件有一个 inject 选项来开始使用这些数据<br/>
<strong>具体写法</strong>：<br/>
祖组件中：</p>
<div class="language-javascript"><div class="highlight-tools"><span class="lang">javascript</span></div><pre class="shiki nord" style="background-color:#2e3440ff" tabindex="0"><code><span class="line"><span style="color:#88C0D0">setup</span><span style="color:#D8DEE9FF">()</span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">	</span><span style="color:#81A1C1">......</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#81A1C1">let</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">car</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">=</span><span style="color:#D8DEE9FF"> </span><span style="color:#88C0D0">reactive</span><span style="color:#D8DEE9FF">(</span><span style="color:#ECEFF4">{</span><span style="color:#88C0D0">name</span><span style="color:#ECEFF4">:</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">奔驰</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#ECEFF4">,</span><span style="color:#88C0D0">price</span><span style="color:#ECEFF4">:</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">40万</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#ECEFF4">}</span><span style="color:#D8DEE9FF">)</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#88C0D0">provide</span><span style="color:#D8DEE9FF">(</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">car</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9">car</span><span style="color:#D8DEE9FF">)</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#81A1C1">......</span></span>
<span class="line"><span style="color:#ECEFF4">}</span></span>
<span class="line"></span></code></pre></div>
<p>后代组件中：</p>
<div class="language-javascript"><div class="highlight-tools"><span class="lang">javascript</span></div><pre class="shiki nord" style="background-color:#2e3440ff" tabindex="0"><code><span class="line"><span style="color:#88C0D0">setup</span><span style="color:#D8DEE9FF">(</span><span style="color:#D8DEE9">props</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9">context</span><span style="color:#D8DEE9FF">)</span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">	</span><span style="color:#81A1C1">......</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#81A1C1">const</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">car</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">=</span><span style="color:#D8DEE9FF"> </span><span style="color:#88C0D0">inject</span><span style="color:#D8DEE9FF">(</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">car</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#D8DEE9FF">)</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#81A1C1">return</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span><span style="color:#D8DEE9">car</span><span style="color:#ECEFF4">}</span></span>
<span class="line"><span style="color:#D8DEE9FF">	</span><span style="color:#81A1C1">......</span></span>
<span class="line"><span style="color:#ECEFF4">}</span></span>
<span class="line"></span></code></pre></div>
<p>具体的实现案例<br/>
APP.vue 作为祖组件</p>
<div class="language-javascript"><div class="highlight-tools"><span class="lang">javascript</span></div><pre class="shiki nord" style="background-color:#2e3440ff" tabindex="0"><code><span class="line"><span style="color:#81A1C1">&lt;!--</span><span style="color:#D8DEE9">Vue3的自定义hook</span><span style="color:#81A1C1">--&gt;</span></span>
<span class="line"><span style="color:#81A1C1">&lt;template&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#81A1C1">&lt;div</span><span style="color:#D8DEE9FF"> </span><span style="color:#8FBCBB">class</span><span style="color:#81A1C1">=</span><span style="color:#ECEFF4">&quot;</span><span style="color:#A3BE8C">app</span><span style="color:#ECEFF4">&quot;</span><span style="color:#81A1C1">&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#81A1C1">&lt;h2&gt;</span><span style="color:#D8DEE9FF"> APP祖组件 爷爷：</span><span style="color:#81A1C1">{</span><span style="color:#ECEFF4">{</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">name</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">}</span><span style="color:#81A1C1">}</span><span style="color:#D8DEE9FF">---年龄：</span><span style="color:#81A1C1">{</span><span style="color:#ECEFF4">{</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">age</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">}</span><span style="color:#81A1C1">}&lt;/h2&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#81A1C1">&lt;</span><span style="color:#8FBCBB">Child</span><span style="color:#81A1C1">/&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#81A1C1">&lt;/div&gt;</span></span>
<span class="line"><span style="color:#81A1C1">&lt;/template&gt;</span></span>
<span class="line"><span style="color:#81A1C1">&lt;script&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">  // 引入组件</span></span>
<span class="line"><span style="color:#D8DEE9FF">  import </span><span style="color:#81A1C1">{</span><span style="color:#D8DEE9">reactive</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">provide</span><span style="color:#81A1C1">}</span><span style="color:#D8DEE9FF"> from &quot;vue&quot;;</span></span>
<span class="line"><span style="color:#D8DEE9FF">  import Child from &quot;./components/Child&quot;;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D8DEE9FF">  export default </span><span style="color:#81A1C1">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#D8DEE9">name</span><span style="color:#D8DEE9FF">: </span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">App</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#D8DEE9">components</span><span style="color:#D8DEE9FF">: </span><span style="color:#ECEFF4">{</span><span style="color:#D8DEE9">Child</span><span style="color:#ECEFF4">},</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#88C0D0">setup</span><span style="color:#D8DEE9FF">() </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">      let </span><span style="color:#D8DEE9">grandfather</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">=</span><span style="color:#D8DEE9FF"> </span><span style="color:#88C0D0">reactive</span><span style="color:#D8DEE9FF">(</span><span style="color:#ECEFF4">{</span><span style="color:#88C0D0">name</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">张三</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9FF"> </span><span style="color:#88C0D0">age</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#B48EAD">88</span><span style="color:#ECEFF4">}</span><span style="color:#D8DEE9FF">)</span></span>
<span class="line"><span style="color:#ECEFF4">      </span><span style="color:#616E88">// 将数据提供出去</span></span>
<span class="line"><span style="color:#D8DEE9FF">      </span><span style="color:#88C0D0">provide</span><span style="color:#ECEFF4">(</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">grandfather</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9">grandfather</span><span style="color:#ECEFF4">)</span></span>
<span class="line"><span style="color:#D8DEE9FF">      return </span><span style="color:#ECEFF4">{</span><span style="color:#81A1C1">...</span><span style="color:#D8DEE9">grandfather</span><span style="color:#ECEFF4">}</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#ECEFF4">}</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#81A1C1">}</span></span>
<span class="line"><span style="color:#81A1C1">&lt;/script&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#81A1C1">&lt;style</span><span style="color:#D8DEE9FF"> </span><span style="color:#8FBCBB">scoped</span><span style="color:#81A1C1">&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">  .app </span><span style="color:#81A1C1">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#D8DEE9">background</span><span style="color:#81A1C1">-</span><span style="color:#D8DEE9">color</span><span style="color:#D8DEE9FF">: </span><span style="color:#D8DEE9">gray</span><span style="color:#D8DEE9FF">;</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#D8DEE9">padding</span><span style="color:#D8DEE9FF">: 10</span><span style="color:#D8DEE9">px</span><span style="color:#D8DEE9FF">;</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#81A1C1">}</span></span>
<span class="line"><span style="color:#81A1C1">&lt;/style&gt;</span></span>
<span class="line"></span></code></pre></div>
<p>Child.vue 子组件<br/>
不在子组件中注入祖组件中的属性</p>
<div class="language-javascript"><div class="highlight-tools"><span class="lang">javascript</span></div><pre class="shiki nord" style="background-color:#2e3440ff" tabindex="0"><code><span class="line"><span style="color:#81A1C1">&lt;template&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#81A1C1">&lt;div</span><span style="color:#D8DEE9FF"> </span><span style="color:#8FBCBB">class</span><span style="color:#81A1C1">=</span><span style="color:#ECEFF4">&quot;</span><span style="color:#A3BE8C">child</span><span style="color:#ECEFF4">&quot;</span><span style="color:#81A1C1">&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#81A1C1">&lt;h2&gt;</span><span style="color:#D8DEE9FF"> Child组件 儿子</span><span style="color:#81A1C1">&lt;/h2&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#81A1C1">&lt;</span><span style="color:#8FBCBB">Son</span><span style="color:#81A1C1">/&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#81A1C1">&lt;/div&gt;</span></span>
<span class="line"><span style="color:#81A1C1">&lt;/template&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#81A1C1">&lt;script&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">  import </span><span style="color:#81A1C1">{</span><span style="color:#D8DEE9">inject</span><span style="color:#81A1C1">}</span><span style="color:#D8DEE9FF"> from &#x27;vue&#x27;</span></span>
<span class="line"><span style="color:#D8DEE9FF">  import Son from &#x27;./Son&#x27;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D8DEE9FF">  export default </span><span style="color:#81A1C1">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#D8DEE9">name</span><span style="color:#D8DEE9FF">: </span><span style="color:#ECEFF4">&quot;</span><span style="color:#A3BE8C">Child</span><span style="color:#ECEFF4">&quot;</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#D8DEE9">components</span><span style="color:#D8DEE9FF">:</span><span style="color:#ECEFF4">{</span><span style="color:#D8DEE9">Son</span><span style="color:#ECEFF4">},</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#81A1C1">}</span></span>
<span class="line"><span style="color:#81A1C1">&lt;/script&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#81A1C1">&lt;style</span><span style="color:#D8DEE9FF"> </span><span style="color:#8FBCBB">scoped</span><span style="color:#81A1C1">&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">  .child </span><span style="color:#81A1C1">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#D8DEE9">background</span><span style="color:#81A1C1">-</span><span style="color:#D8DEE9">color</span><span style="color:#D8DEE9FF">: </span><span style="color:#D8DEE9">orange</span><span style="color:#D8DEE9FF">;</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#D8DEE9">padding</span><span style="color:#D8DEE9FF">: 10</span><span style="color:#D8DEE9">px</span><span style="color:#D8DEE9FF">;</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#81A1C1">}</span></span>
<span class="line"><span style="color:#81A1C1">&lt;/style&gt;</span></span>
<span class="line"></span></code></pre></div>
<p>Son.vue 孙组件</p>
<div class="language-javascript"><div class="highlight-tools"><span class="lang">javascript</span></div><pre class="shiki nord" style="background-color:#2e3440ff" tabindex="0"><code><span class="line"><span style="color:#81A1C1">&lt;template&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#81A1C1">&lt;div</span><span style="color:#D8DEE9FF"> </span><span style="color:#8FBCBB">class</span><span style="color:#81A1C1">=</span><span style="color:#ECEFF4">&quot;</span><span style="color:#A3BE8C">son</span><span style="color:#ECEFF4">&quot;</span><span style="color:#81A1C1">&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#81A1C1">&lt;h2&gt;</span><span style="color:#D8DEE9FF"> Son组件 我的爷爷名字：</span><span style="color:#81A1C1">{</span><span style="color:#ECEFF4">{</span><span style="color:#D8DEE9FF">grandfather.</span><span style="color:#D8DEE9">name</span><span style="color:#ECEFF4">}</span><span style="color:#81A1C1">}</span><span style="color:#D8DEE9FF">---爷爷年龄：</span><span style="color:#81A1C1">{</span><span style="color:#ECEFF4">{</span><span style="color:#D8DEE9FF">grandfather.</span><span style="color:#D8DEE9">price</span><span style="color:#ECEFF4">}</span><span style="color:#81A1C1">}&lt;/h2&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#81A1C1">&lt;/div&gt;</span></span>
<span class="line"><span style="color:#81A1C1">&lt;/template&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#81A1C1">&lt;script&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">  // 导入inject</span></span>
<span class="line"><span style="color:#D8DEE9FF">  import </span><span style="color:#81A1C1">{</span><span style="color:#D8DEE9">inject</span><span style="color:#81A1C1">}</span><span style="color:#D8DEE9FF"> from &quot;vue&quot;;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D8DEE9FF">  export default </span><span style="color:#81A1C1">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#D8DEE9">name</span><span style="color:#D8DEE9FF">: </span><span style="color:#ECEFF4">&quot;</span><span style="color:#A3BE8C">Son</span><span style="color:#ECEFF4">&quot;</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#88C0D0">setup</span><span style="color:#D8DEE9FF">()</span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#ECEFF4">      </span><span style="color:#616E88">// 将信息注入</span></span>
<span class="line"><span style="color:#D8DEE9FF">      let </span><span style="color:#D8DEE9">grandfather</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">=</span><span style="color:#D8DEE9FF"> </span><span style="color:#88C0D0">inject</span><span style="color:#D8DEE9FF">(</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">grandfather</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#D8DEE9FF">)</span></span>
<span class="line"><span style="color:#D8DEE9FF">      return</span><span style="color:#ECEFF4">{</span><span style="color:#D8DEE9">grandfather</span><span style="color:#ECEFF4">}</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#ECEFF4">}</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#81A1C1">}</span></span>
<span class="line"><span style="color:#81A1C1">&lt;/script&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#81A1C1">&lt;style</span><span style="color:#D8DEE9FF"> </span><span style="color:#8FBCBB">scoped</span><span style="color:#81A1C1">&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">  .son </span><span style="color:#81A1C1">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#D8DEE9">background</span><span style="color:#81A1C1">-</span><span style="color:#D8DEE9">color</span><span style="color:#D8DEE9FF">: </span><span style="color:#D8DEE9">green</span><span style="color:#D8DEE9FF">;</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#81A1C1">}</span></span>
<span class="line"><span style="color:#81A1C1">&lt;/style&gt;</span></span>
<span class="line"></span></code></pre></div>
<h2 id="响应式数据的判断api"><a class="header-anchor" href="#响应式数据的判断api"><span class="icon icon-link"></span></a>响应式数据的判断API</h2>
<blockquote>
<p><strong>isRef</strong>: 检查一个值是否为一个 ref 对象<br/>
<strong>isReactive</strong>: 检查一个对象是否是由 reactive 创建的响应式代理<br/>
<strong>isReadonly</strong>: 检查一个对象是否是由 readonly 创建的只读代理<br/>
<strong>isProxy</strong>: 检查一个对象是否是由 reactive 或者 readonly 方法创建的代理</p>
</blockquote>
<div class="language-javascript"><div class="highlight-tools"><span class="lang">javascript</span></div><pre class="shiki nord" style="background-color:#2e3440ff" tabindex="0"><code><span class="line"><span style="color:#81A1C1">&lt;!--</span><span style="color:#D8DEE9">Vue3的API</span><span style="color:#81A1C1">--&gt;</span></span>
<span class="line"><span style="color:#81A1C1">&lt;template&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#81A1C1">&lt;h2&gt;</span><span style="color:#D8DEE9FF"> APP</span><span style="color:#81A1C1">&lt;/h2&gt;</span></span>
<span class="line"><span style="color:#81A1C1">&lt;/template&gt;</span></span>
<span class="line"><span style="color:#81A1C1">&lt;script&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">  // 引入组件</span></span>
<span class="line"><span style="color:#D8DEE9FF">  import </span><span style="color:#81A1C1">{</span><span style="color:#D8DEE9">reactive</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">provide</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">ref</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">readonly</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">isProxy</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">isReadonly</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">isRef</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">isReactive</span><span style="color:#81A1C1">}</span><span style="color:#D8DEE9FF"> from &quot;vue&quot;;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D8DEE9FF">  export default </span><span style="color:#81A1C1">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#D8DEE9">name</span><span style="color:#D8DEE9FF">: </span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">App</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#88C0D0">setup</span><span style="color:#D8DEE9FF">() </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">      let </span><span style="color:#D8DEE9">demo</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">=</span><span style="color:#D8DEE9FF"> </span><span style="color:#88C0D0">reactive</span><span style="color:#D8DEE9FF">(</span><span style="color:#ECEFF4">{</span><span style="color:#88C0D0">name</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">张三</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9FF"> </span><span style="color:#88C0D0">age</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#B48EAD">88</span><span style="color:#ECEFF4">}</span><span style="color:#D8DEE9FF">)</span></span>
<span class="line"><span style="color:#D8DEE9FF">      let </span><span style="color:#D8DEE9">sum</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">=</span><span style="color:#D8DEE9FF"> </span><span style="color:#88C0D0">ref</span><span style="color:#D8DEE9FF">(</span><span style="color:#B48EAD">0</span><span style="color:#D8DEE9FF">)</span></span>
<span class="line"><span style="color:#ECEFF4">      </span><span style="color:#616E88">// 将数据提供出去</span></span>
<span class="line"><span style="color:#D8DEE9FF">      let </span><span style="color:#D8DEE9">demoRef</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">=</span><span style="color:#D8DEE9FF"> </span><span style="color:#88C0D0">isRef</span><span style="color:#D8DEE9FF">(</span><span style="color:#D8DEE9">demo</span><span style="color:#D8DEE9FF">)</span></span>
<span class="line"><span style="color:#D8DEE9FF">      let </span><span style="color:#D8DEE9">demoReactive</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">=</span><span style="color:#D8DEE9FF"> </span><span style="color:#88C0D0">isReactive</span><span style="color:#D8DEE9FF">(</span><span style="color:#D8DEE9">demo</span><span style="color:#D8DEE9FF">)</span></span>
<span class="line"><span style="color:#D8DEE9FF">      let </span><span style="color:#D8DEE9">sumReactive</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">=</span><span style="color:#D8DEE9FF"> </span><span style="color:#88C0D0">isReactive</span><span style="color:#D8DEE9FF">(</span><span style="color:#D8DEE9">sum</span><span style="color:#D8DEE9FF">)</span></span>
<span class="line"><span style="color:#D8DEE9FF">      let </span><span style="color:#D8DEE9">sumReadOnly</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">=</span><span style="color:#D8DEE9FF"> </span><span style="color:#88C0D0">isReadonly</span><span style="color:#D8DEE9FF">(</span><span style="color:#D8DEE9">demo</span><span style="color:#D8DEE9FF">)</span></span>
<span class="line"><span style="color:#D8DEE9FF">      let </span><span style="color:#D8DEE9">demoProxy</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">=</span><span style="color:#D8DEE9FF"> </span><span style="color:#88C0D0">isProxy</span><span style="color:#D8DEE9FF">(</span><span style="color:#D8DEE9">demo</span><span style="color:#D8DEE9FF">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D8DEE9FF">      console.log(</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">demoReactive---</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9FF"> demoReactive)  </span><span style="color:#616E88">// true</span></span>
<span class="line"><span style="color:#D8DEE9FF">      console.log(</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">demoRef---</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9FF"> demoRef) </span><span style="color:#616E88">// false  由reactive创建</span></span>
<span class="line"><span style="color:#D8DEE9FF">      console.log(</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">sumReactive---</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9FF"> sumReactive) </span><span style="color:#616E88">// false 由reactive创建</span></span>
<span class="line"><span style="color:#D8DEE9FF">      console.log(</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">sumReadOnly---</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9FF"> sumReadOnly) </span><span style="color:#616E88">// false 可修改的</span></span>
<span class="line"><span style="color:#D8DEE9FF">      console.log(</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">demoProxy---</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9FF"> demoProxy) </span><span style="color:#616E88">// true 由reactive创建 都是使用代理的</span></span>
<span class="line"><span style="color:#D8DEE9FF">      return </span><span style="color:#ECEFF4">{</span><span style="color:#81A1C1">...</span><span style="color:#D8DEE9">demo</span><span style="color:#ECEFF4">}</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#ECEFF4">}</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#81A1C1">}</span></span>
<span class="line"><span style="color:#81A1C1">&lt;/script&gt;</span></span>
<span class="line"></span></code></pre></div>
<h1 id="composition-api-的优势"><a class="header-anchor" href="#composition-api-的优势"><span class="icon icon-link"></span></a>Composition API 的优势</h1>
<h2 id="options-api配置项api-存在的问题vue2"><a class="header-anchor" href="#options-api配置项api-存在的问题vue2"><span class="icon icon-link"></span></a>Options API(配置项API) 存在的问题（Vue2）</h2>
<p>使用传统OptionsAPI中，新增或者修改一个需求，就需要分别在data，methods，computed里修改 。</p>
<p><img src="http://GitHubxxx17.github.io/img/vue/9.image" alt="" class="article-img"/><br/>
<img src="http://GitHubxxx17.github.io/img/vue/10.image" alt="" class="article-img"/></p>
<h2 id="composition-api组合api-的优势vue3"><a class="header-anchor" href="#composition-api组合api-的优势vue3"><span class="icon icon-link"></span></a>Composition API(组合API) 的优势（Vue3）</h2>
<p>我们可以更加优雅的组织我们的代码，函数。让相关功能的代码更加有序的组织在一起。</p>
<h1 id="新的组件"><a class="header-anchor" href="#新的组件"><span class="icon icon-link"></span></a>新的组件</h1>
<h2 id="fragment"><a class="header-anchor" href="#fragment"><span class="icon icon-link"></span></a>Fragment</h2>
<blockquote>
<p>在Vue2中组件的结构必须有一个根标签<br/>
在Vue3中: 组件可以没有根标签, 内部会将多个标签包含在一个Fragment虚拟元素中<br/>
好处: 减少标签层级, 减小内存占用</p>
</blockquote>
<h2 id="teleport标签"><a class="header-anchor" href="#teleport标签"><span class="icon icon-link"></span></a>Teleport(标签)</h2>
<p>什么是Teleport？—— Teleport 是一种能够将我们的组件html结构移动到指定位置的技术。</p>
<div class="language-javascript"><div class="highlight-tools"><span class="lang">javascript</span></div><pre class="shiki nord" style="background-color:#2e3440ff" tabindex="0"><code><span class="line"><span style="color:#81A1C1">&lt;template&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#81A1C1">&lt;div&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#81A1C1">&lt;button</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">@click=&quot;isShowDialog=true&quot;&gt;打开弹窗&lt;/button&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#D8DEE9">&lt;!--</span><span style="color:#D8DEE9FF"> </span><span style="color:#8FBCBB">指定在哪个标签下面添加</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">--&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#D8DEE9">&lt;teleport</span><span style="color:#D8DEE9FF"> </span><span style="color:#8FBCBB">to</span><span style="color:#81A1C1">=</span><span style="color:#ECEFF4">&quot;</span><span style="color:#A3BE8C">body</span><span style="color:#ECEFF4">&quot;</span><span style="color:#81A1C1">&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">      &lt;!--点击了按钮之后顺便携带弹窗属性--&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">      </span><span style="color:#81A1C1">&lt;div</span><span style="color:#D8DEE9FF"> </span><span style="color:#8FBCBB">v-if</span><span style="color:#81A1C1">=</span><span style="color:#ECEFF4">&quot;</span><span style="color:#A3BE8C">isShowDialog</span><span style="color:#ECEFF4">&quot;</span><span style="color:#D8DEE9FF"> </span><span style="color:#8FBCBB">class</span><span style="color:#81A1C1">=</span><span style="color:#ECEFF4">&quot;</span><span style="color:#A3BE8C">mask</span><span style="color:#ECEFF4">&quot;</span><span style="color:#81A1C1">&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">        </span><span style="color:#81A1C1">&lt;div</span><span style="color:#D8DEE9FF"> </span><span style="color:#8FBCBB">class</span><span style="color:#81A1C1">=</span><span style="color:#ECEFF4">&quot;</span><span style="color:#A3BE8C">dialog</span><span style="color:#ECEFF4">&quot;</span><span style="color:#81A1C1">&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">          </span><span style="color:#81A1C1">&lt;h2&gt;</span><span style="color:#D8DEE9FF">弹窗</span><span style="color:#81A1C1">&lt;/h2&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">          </span><span style="color:#81A1C1">&lt;h3&gt;</span><span style="color:#D8DEE9FF">文本内容</span><span style="color:#81A1C1">&lt;/h3&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">          </span><span style="color:#81A1C1">&lt;button</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">@click=&quot;isShowDialog=false&quot;&gt;关闭弹窗&lt;/button&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">        </span><span style="color:#D8DEE9">&lt;/div&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">      </span><span style="color:#D8DEE9">&lt;/div&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#D8DEE9">&lt;/teleport&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#D8DEE9">&lt;/div&gt;</span></span>
<span class="line"><span style="color:#D8DEE9">&lt;/template&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D8DEE9">&lt;script&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#8FBCBB">import</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">{</span><span style="color:#D8DEE9">ref</span><span style="color:#81A1C1">}</span><span style="color:#D8DEE9FF"> </span><span style="color:#8FBCBB">from</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">&quot;</span><span style="color:#A3BE8C">vue</span><span style="color:#ECEFF4">&quot;</span><span style="color:#D8DEE9">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#8FBCBB">export</span><span style="color:#D8DEE9FF"> </span><span style="color:#8FBCBB">default</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#D8DEE9">name</span><span style="color:#D8DEE9FF">: </span><span style="color:#ECEFF4">&quot;</span><span style="color:#A3BE8C">Dialog</span><span style="color:#ECEFF4">&quot;</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#88C0D0">setup</span><span style="color:#D8DEE9FF">() </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">      let </span><span style="color:#D8DEE9">isShowDialog</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">=</span><span style="color:#D8DEE9FF"> </span><span style="color:#88C0D0">ref</span><span style="color:#D8DEE9FF">(</span><span style="color:#81A1C1">false</span><span style="color:#D8DEE9FF">)</span></span>
<span class="line"><span style="color:#D8DEE9FF">      return </span><span style="color:#ECEFF4">{</span><span style="color:#D8DEE9">isShowDialog</span><span style="color:#ECEFF4">}</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#ECEFF4">}</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#81A1C1">}</span></span>
<span class="line"><span style="color:#D8DEE9">&lt;/script&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D8DEE9">&lt;style</span><span style="color:#D8DEE9FF"> </span><span style="color:#8FBCBB">scoped</span><span style="color:#81A1C1">&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">  .mask </span><span style="color:#81A1C1">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#D8DEE9">position</span><span style="color:#D8DEE9FF">: </span><span style="color:#D8DEE9">absolute</span><span style="color:#D8DEE9FF">;</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#D8DEE9">top</span><span style="color:#D8DEE9FF">: </span><span style="color:#B48EAD">0</span><span style="color:#D8DEE9FF">;</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#D8DEE9">bottom</span><span style="color:#D8DEE9FF">: </span><span style="color:#B48EAD">0</span><span style="color:#D8DEE9FF">;</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#D8DEE9">left</span><span style="color:#D8DEE9FF">: </span><span style="color:#B48EAD">0</span><span style="color:#D8DEE9FF">;</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#D8DEE9">right</span><span style="color:#D8DEE9FF">: </span><span style="color:#B48EAD">0</span><span style="color:#D8DEE9FF">;</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#D8DEE9">background</span><span style="color:#81A1C1">-</span><span style="color:#D8DEE9">color</span><span style="color:#D8DEE9FF">: </span><span style="color:#88C0D0">rgb</span><span style="color:#D8DEE9FF">(</span><span style="color:#B48EAD">0</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9FF"> </span><span style="color:#B48EAD">0</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9FF"> </span><span style="color:#B48EAD">0</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9FF"> </span><span style="color:#B48EAD">0.5</span><span style="color:#D8DEE9FF">);</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#81A1C1">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D8DEE9FF">  .dialog </span><span style="color:#81A1C1">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#D8DEE9">position</span><span style="color:#D8DEE9FF">: </span><span style="color:#D8DEE9">absolute</span><span style="color:#D8DEE9FF">;</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#D8DEE9">text</span><span style="color:#81A1C1">-</span><span style="color:#D8DEE9">align</span><span style="color:#D8DEE9FF">: </span><span style="color:#D8DEE9">center</span><span style="color:#D8DEE9FF">;</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#D8DEE9">top</span><span style="color:#D8DEE9FF">: </span><span style="color:#B48EAD">50</span><span style="color:#81A1C1">%</span><span style="color:#D8DEE9FF">;</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#D8DEE9">left</span><span style="color:#D8DEE9FF">: </span><span style="color:#B48EAD">50</span><span style="color:#81A1C1">%</span><span style="color:#D8DEE9FF">;</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#D8DEE9">transform</span><span style="color:#D8DEE9FF">: </span><span style="color:#88C0D0">translate</span><span style="color:#D8DEE9FF">(</span><span style="color:#81A1C1">-</span><span style="color:#B48EAD">50</span><span style="color:#81A1C1">%</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">-</span><span style="color:#B48EAD">50</span><span style="color:#81A1C1">%</span><span style="color:#D8DEE9FF">);</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#D8DEE9">width</span><span style="color:#D8DEE9FF">: 400</span><span style="color:#D8DEE9">px</span><span style="color:#D8DEE9FF">;</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#D8DEE9">height</span><span style="color:#D8DEE9FF">: 400</span><span style="color:#D8DEE9">px</span><span style="color:#D8DEE9FF">;</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#D8DEE9">background</span><span style="color:#81A1C1">-</span><span style="color:#D8DEE9">color</span><span style="color:#D8DEE9FF">: #00</span><span style="color:#D8DEE9">a4ff</span><span style="color:#D8DEE9FF">;</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#81A1C1">}</span></span>
<span class="line"><span style="color:#81A1C1">&lt;/style&gt;</span></span>
<span class="line"></span></code></pre></div>
<h2 id="suspense标签"><a class="header-anchor" href="#suspense标签"><span class="icon icon-link"></span></a>Suspense（标签）</h2>
<p>等待异步组件时渲染一些额外内容，让应用有更好的用户体验</p>
<p><strong>使用步骤</strong>：<br/>
异步引入组件</p>
<div class="language-javascript"><div class="highlight-tools"><span class="lang">javascript</span></div><pre class="shiki nord" style="background-color:#2e3440ff" tabindex="0"><code><span class="line"><span style="color:#616E88">// import Child from &#x27;vue&#x27;// 静态引入</span></span>
<span class="line"></span>
<span class="line"><span style="color:#81A1C1">import</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span><span style="color:#8FBCBB">defineAsyncComponent</span><span style="color:#ECEFF4">}</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">from</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">vue</span><span style="color:#ECEFF4">&#x27;</span></span>
<span class="line"><span style="color:#81A1C1">const</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">Child</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">=</span><span style="color:#D8DEE9FF"> </span><span style="color:#88C0D0">defineAsyncComponent</span><span style="color:#D8DEE9FF">(</span><span style="color:#ECEFF4">()</span><span style="color:#81A1C1">=&gt;import</span><span style="color:#D8DEE9FF">(</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">./components/Child.vue</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#D8DEE9FF">))</span></span>
<span class="line"></span></code></pre></div>
<p>使用<code>Suspense</code>包裹组件，并配置好<code>default</code>与 <code>fallback</code></p>
<div class="language-javascript"><div class="highlight-tools"><span class="lang">javascript</span></div><pre class="shiki nord" style="background-color:#2e3440ff" tabindex="0"><code><span class="line"><span style="color:#81A1C1">&lt;template&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">	</span><span style="color:#81A1C1">&lt;div</span><span style="color:#D8DEE9FF"> </span><span style="color:#8FBCBB">class</span><span style="color:#81A1C1">=</span><span style="color:#ECEFF4">&quot;</span><span style="color:#A3BE8C">app</span><span style="color:#ECEFF4">&quot;</span><span style="color:#81A1C1">&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">		</span><span style="color:#81A1C1">&lt;h3&gt;</span><span style="color:#D8DEE9FF">我是App组件</span><span style="color:#81A1C1">&lt;/h3&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">		</span><span style="color:#81A1C1">&lt;</span><span style="color:#8FBCBB">Suspense</span><span style="color:#81A1C1">&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">			</span><span style="color:#81A1C1">&lt;template</span><span style="color:#D8DEE9FF"> </span><span style="color:#8FBCBB">v-slot</span><span style="color:#ECEFF4">:</span><span style="color:#8FBCBB">default</span><span style="color:#81A1C1">&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">				</span><span style="color:#81A1C1">&lt;</span><span style="color:#8FBCBB">Child</span><span style="color:#81A1C1">/&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">			</span><span style="color:#81A1C1">&lt;/template&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">			</span><span style="color:#81A1C1">&lt;template</span><span style="color:#D8DEE9FF"> </span><span style="color:#8FBCBB">v-slot</span><span style="color:#ECEFF4">:</span><span style="color:#8FBCBB">fallback</span><span style="color:#81A1C1">&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">				</span><span style="color:#81A1C1">&lt;h3&gt;</span><span style="color:#D8DEE9FF">加载中.....</span><span style="color:#81A1C1">&lt;/h3&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">			</span><span style="color:#81A1C1">&lt;/template&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">		</span><span style="color:#81A1C1">&lt;/</span><span style="color:#8FBCBB">Suspense</span><span style="color:#81A1C1">&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">	</span><span style="color:#81A1C1">&lt;/div&gt;</span></span>
<span class="line"><span style="color:#81A1C1">&lt;/template&gt;</span></span>
<span class="line"></span></code></pre></div>
<p>具体实现案例</p>
<p><code>Child.vue</code></p>
<div class="language-javascript"><div class="highlight-tools"><span class="lang">javascript</span></div><pre class="shiki nord" style="background-color:#2e3440ff" tabindex="0"><code><span class="line"><span style="color:#81A1C1">&lt;template&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#81A1C1">&lt;div</span><span style="color:#D8DEE9FF"> </span><span style="color:#8FBCBB">class</span><span style="color:#81A1C1">=</span><span style="color:#ECEFF4">&quot;</span><span style="color:#A3BE8C">child</span><span style="color:#ECEFF4">&quot;</span><span style="color:#81A1C1">&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#81A1C1">&lt;h2&gt;</span><span style="color:#D8DEE9FF"> Child儿子组件 </span><span style="color:#81A1C1">&lt;/h2&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#81A1C1">{</span><span style="color:#ECEFF4">{</span><span style="color:#D8DEE9">sum</span><span style="color:#ECEFF4">}</span><span style="color:#81A1C1">}</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#81A1C1">&lt;/div&gt;</span></span>
<span class="line"><span style="color:#81A1C1">&lt;/template&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#81A1C1">&lt;script&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">  import </span><span style="color:#81A1C1">{</span><span style="color:#D8DEE9">ref</span><span style="color:#81A1C1">}</span><span style="color:#D8DEE9FF"> from &quot;vue&quot;;</span></span>
<span class="line"><span style="color:#D8DEE9FF">  export default </span><span style="color:#81A1C1">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#D8DEE9">name</span><span style="color:#D8DEE9FF">: </span><span style="color:#ECEFF4">&quot;</span><span style="color:#A3BE8C">Child</span><span style="color:#ECEFF4">&quot;</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#ECEFF4">    </span><span style="color:#616E88">// 异步</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#D8DEE9">async</span><span style="color:#D8DEE9FF"> </span><span style="color:#88C0D0">setup</span><span style="color:#D8DEE9FF">()</span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">      let </span><span style="color:#D8DEE9">sum</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">=</span><span style="color:#D8DEE9FF"> </span><span style="color:#88C0D0">ref</span><span style="color:#D8DEE9FF">(</span><span style="color:#B48EAD">0</span><span style="color:#D8DEE9FF">)</span></span>
<span class="line"><span style="color:#D8DEE9FF">      let </span><span style="color:#D8DEE9">p</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">=</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">new</span><span style="color:#D8DEE9FF"> </span><span style="color:#8FBCBB">Promise</span><span style="color:#D8DEE9FF">(</span><span style="color:#ECEFF4">(</span><span style="color:#D8DEE9">resolve</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">reject</span><span style="color:#ECEFF4">)</span><span style="color:#81A1C1">=&gt;</span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">        </span><span style="color:#88C0D0">setTimeout</span><span style="color:#D8DEE9FF">(</span><span style="color:#ECEFF4">()</span><span style="color:#81A1C1">=&gt;</span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">          </span><span style="color:#88C0D0">resolve</span><span style="color:#D8DEE9FF">(</span><span style="color:#ECEFF4">{</span><span style="color:#D8DEE9">sum</span><span style="color:#ECEFF4">}</span><span style="color:#D8DEE9FF">)</span></span>
<span class="line"><span style="color:#D8DEE9FF">        </span><span style="color:#ECEFF4">},</span><span style="color:#B48EAD">2000</span><span style="color:#D8DEE9FF">)</span></span>
<span class="line"><span style="color:#D8DEE9FF">      </span><span style="color:#ECEFF4">}</span><span style="color:#D8DEE9FF">)</span></span>
<span class="line"><span style="color:#D8DEE9FF">      return await </span><span style="color:#D8DEE9">p</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#ECEFF4">}</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#81A1C1">}</span></span>
<span class="line"><span style="color:#81A1C1">&lt;/script&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#81A1C1">&lt;style</span><span style="color:#D8DEE9FF"> </span><span style="color:#8FBCBB">scoped</span><span style="color:#81A1C1">&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">  .child </span><span style="color:#81A1C1">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#D8DEE9">background</span><span style="color:#81A1C1">-</span><span style="color:#D8DEE9">color</span><span style="color:#D8DEE9FF">: </span><span style="color:#D8DEE9">orange</span><span style="color:#D8DEE9FF">;</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#D8DEE9">padding</span><span style="color:#D8DEE9FF">: 10</span><span style="color:#D8DEE9">px</span><span style="color:#D8DEE9FF">;</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#81A1C1">}</span></span>
<span class="line"><span style="color:#81A1C1">&lt;/style&gt;</span></span>
<span class="line"></span></code></pre></div>
<p><code>APP.vue</code></p>
<div class="language-javascript"><div class="highlight-tools"><span class="lang">javascript</span></div><pre class="shiki nord" style="background-color:#2e3440ff" tabindex="0"><code><span class="line"><span style="color:#81A1C1">&lt;!--</span><span style="color:#D8DEE9">Vue3的自定义hook</span><span style="color:#81A1C1">--&gt;</span></span>
<span class="line"><span style="color:#81A1C1">&lt;template&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#81A1C1">&lt;div</span><span style="color:#D8DEE9FF"> </span><span style="color:#8FBCBB">class</span><span style="color:#81A1C1">=</span><span style="color:#ECEFF4">&quot;</span><span style="color:#A3BE8C">app</span><span style="color:#ECEFF4">&quot;</span><span style="color:#81A1C1">&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#81A1C1">&lt;h3&gt;</span><span style="color:#D8DEE9FF">我是App组件</span><span style="color:#81A1C1">&lt;/h3&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#81A1C1">&lt;</span><span style="color:#8FBCBB">Suspense</span><span style="color:#81A1C1">&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">      </span><span style="color:#81A1C1">&lt;template</span><span style="color:#D8DEE9FF"> </span><span style="color:#8FBCBB">v-slot</span><span style="color:#ECEFF4">:</span><span style="color:#8FBCBB">default</span><span style="color:#81A1C1">&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">        </span><span style="color:#81A1C1">&lt;</span><span style="color:#8FBCBB">Child</span><span style="color:#81A1C1">/&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">      </span><span style="color:#81A1C1">&lt;/template&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">      </span><span style="color:#81A1C1">&lt;template</span><span style="color:#D8DEE9FF"> </span><span style="color:#8FBCBB">v-slot</span><span style="color:#ECEFF4">:</span><span style="color:#8FBCBB">fallback</span><span style="color:#81A1C1">&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">        </span><span style="color:#81A1C1">&lt;h3&gt;</span><span style="color:#D8DEE9FF">加载中.....</span><span style="color:#81A1C1">&lt;/h3&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">      </span><span style="color:#81A1C1">&lt;/template&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#81A1C1">&lt;/</span><span style="color:#8FBCBB">Suspense</span><span style="color:#81A1C1">&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#81A1C1">&lt;/div&gt;</span></span>
<span class="line"><span style="color:#81A1C1">&lt;/template&gt;</span></span>
<span class="line"><span style="color:#81A1C1">&lt;script&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">  // 引入组件</span></span>
<span class="line"><span style="color:#D8DEE9FF">  //import Child from &quot;./components/Child&quot;; // 静态引入</span></span>
<span class="line"><span style="color:#D8DEE9FF">  // 异步引入</span></span>
<span class="line"><span style="color:#D8DEE9FF">  import </span><span style="color:#81A1C1">{</span><span style="color:#D8DEE9">defineAsyncComponent</span><span style="color:#81A1C1">}</span><span style="color:#D8DEE9FF"> from &#x27;vue&#x27;</span></span>
<span class="line"><span style="color:#D8DEE9FF">  const Child = defineAsyncComponent(()=&gt;import(&#x27;./components/Child&#x27;))</span></span>
<span class="line"><span style="color:#D8DEE9FF">  export default </span><span style="color:#81A1C1">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#D8DEE9">name</span><span style="color:#D8DEE9FF">: </span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">App</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#D8DEE9">components</span><span style="color:#D8DEE9FF">: </span><span style="color:#ECEFF4">{</span><span style="color:#D8DEE9">Child</span><span style="color:#ECEFF4">},</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#81A1C1">}</span></span>
<span class="line"><span style="color:#81A1C1">&lt;/script&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#81A1C1">&lt;style</span><span style="color:#D8DEE9FF"> </span><span style="color:#8FBCBB">scoped</span><span style="color:#81A1C1">&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">  .app </span><span style="color:#81A1C1">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#D8DEE9">background</span><span style="color:#81A1C1">-</span><span style="color:#D8DEE9">color</span><span style="color:#D8DEE9FF">: </span><span style="color:#D8DEE9">gray</span><span style="color:#D8DEE9FF">;</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#D8DEE9">padding</span><span style="color:#D8DEE9FF">: 10</span><span style="color:#D8DEE9">px</span><span style="color:#D8DEE9FF">;</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#81A1C1">}</span></span>
<span class="line"><span style="color:#81A1C1">&lt;/style&gt;</span></span>
<span class="line"></span>
<span class="line"></span></code></pre></div>
<h1 id="其他"><a class="header-anchor" href="#其他"><span class="icon icon-link"></span></a>其他</h1>
<h2 id="全局api的转移"><a class="header-anchor" href="#全局api的转移"><span class="icon icon-link"></span></a>全局API的转移</h2>
<p>Vue 2.x 有许多全局 API 和配置。</p>
<p>例如：<strong>注册全局组件</strong>、<strong>注册全局指令</strong>等。</p>
<div class="language-javascript"><div class="highlight-tools"><span class="lang">javascript</span></div><pre class="shiki nord" style="background-color:#2e3440ff" tabindex="0"><code><span class="line"><span style="color:#616E88">//注册全局组件</span></span>
<span class="line"><span style="color:#D8DEE9">Vue</span><span style="color:#ECEFF4">.</span><span style="color:#88C0D0">component</span><span style="color:#D8DEE9FF">(</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">MyButton</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#88C0D0">data</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">()</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">=&gt;</span><span style="color:#D8DEE9FF"> (</span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#88C0D0">count</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#B48EAD">0</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#ECEFF4">}</span><span style="color:#D8DEE9FF">)</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#88C0D0">template</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">&lt;button @click=&quot;count++&quot;&gt;Clicked {{ count }} times.&lt;/button&gt;</span><span style="color:#ECEFF4">&#x27;</span></span>
<span class="line"><span style="color:#ECEFF4">}</span><span style="color:#D8DEE9FF">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#616E88">//注册全局指令</span></span>
<span class="line"><span style="color:#D8DEE9">Vue</span><span style="color:#ECEFF4">.</span><span style="color:#88C0D0">directive</span><span style="color:#D8DEE9FF">(</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">focus</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#88C0D0">inserted</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">el</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">=&gt;</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">el</span><span style="color:#ECEFF4">.</span><span style="color:#88C0D0">focus</span><span style="color:#D8DEE9FF">()</span></span>
<span class="line"><span style="color:#ECEFF4">}</span></span>
<span class="line"></span></code></pre></div>
<p>Vue3.0中对这些API做出了调整：</p>
<p>将全局的API，即：<code>Vue.xxx</code>调整到应用实例（<code>app</code>）上</p>





































<table><thead><tr><th style="text-align:center">2.x 全局 API（Vue）</th><th style="text-align:center">3.x 实例 API (app)</th></tr></thead><tbody><tr><td style="text-align:center">Vue.config.xxxx</td><td style="text-align:center">app.config.xxxx</td></tr><tr><td style="text-align:center">Vue.config.productionTip</td><td style="text-align:center">Vue3中移除</td></tr><tr><td style="text-align:center">Vue.component</td><td style="text-align:center">app.component</td></tr><tr><td style="text-align:center">Vue.directive</td><td style="text-align:center">app.directive</td></tr><tr><td style="text-align:center">Vue.mixin</td><td style="text-align:center">app.mixin</td></tr><tr><td style="text-align:center">Vue.use</td><td style="text-align:center">app.use</td></tr><tr><td style="text-align:center">Vue.prototype</td><td style="text-align:center">app.config.globalProperties</td></tr></tbody></table>
<h2 id="其他改变"><a class="header-anchor" href="#其他改变"><span class="icon icon-link"></span></a>其他改变</h2>
<ol>
<li>
<p>data选项应始终被声明为一个函数。</p>
</li>
<li>
<p>过度类名的更改：<br/>
<code>Vue2.x</code>写法</p>
</li>
</ol>
<div class="language-css"><div class="highlight-tools"><span class="lang">css</span></div><pre class="shiki nord" style="background-color:#2e3440ff" tabindex="0"><code><span class="line"><span style="color:#ECEFF4">.</span><span style="color:#8FBCBB">v-enter</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#ECEFF4">.</span><span style="color:#8FBCBB">v-leave-to</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#D8DEE9">opacity</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#B48EAD">0</span><span style="color:#81A1C1">;</span></span>
<span class="line"><span style="color:#ECEFF4">}</span></span>
<span class="line"><span style="color:#ECEFF4">.</span><span style="color:#8FBCBB">v-leave</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#ECEFF4">.</span><span style="color:#8FBCBB">v-enter-to</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#D8DEE9">opacity</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#B48EAD">1</span><span style="color:#81A1C1">;</span></span>
<span class="line"><span style="color:#ECEFF4">}</span></span>
<span class="line"></span></code></pre></div>
<p><code>Vue3.x</code>写法</p>
<div class="language-css"><div class="highlight-tools"><span class="lang">css</span></div><pre class="shiki nord" style="background-color:#2e3440ff" tabindex="0"><code><span class="line"><span style="color:#ECEFF4">.</span><span style="color:#8FBCBB">v-enter-from</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#ECEFF4">.</span><span style="color:#8FBCBB">v-leave-to</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#D8DEE9">opacity</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#B48EAD">0</span><span style="color:#81A1C1">;</span></span>
<span class="line"><span style="color:#ECEFF4">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ECEFF4">.</span><span style="color:#8FBCBB">v-leave-from</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#ECEFF4">.</span><span style="color:#8FBCBB">v-enter-to</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#D8DEE9">opacity</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#B48EAD">1</span><span style="color:#81A1C1">;</span></span>
<span class="line"><span style="color:#ECEFF4">}</span></span>
<span class="line"></span></code></pre></div>
<ol start="3">
<li>
<p>移除<code>keyCode</code>作为 <code>v-on</code> 的修饰符，同时也不再支持<code>config.keyCodes</code></p>
</li>
<li>
<p>移除<code>v-on.native</code>修饰符<br/>
父组件中绑定事件:</p>
</li>
</ol>
<div class="language-html"><div class="highlight-tools"><span class="lang">html</span></div><pre class="shiki nord" style="background-color:#2e3440ff" tabindex="0"><code><span class="line"><span style="color:#81A1C1">&lt;my-component</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#8FBCBB">v-on:close</span><span style="color:#ECEFF4">=</span><span style="color:#ECEFF4">&quot;</span><span style="color:#A3BE8C">handleComponentEvent</span><span style="color:#ECEFF4">&quot;</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#8FBCBB">v-on:click</span><span style="color:#ECEFF4">=</span><span style="color:#ECEFF4">&quot;</span><span style="color:#A3BE8C">handleNativeClickEvent</span><span style="color:#ECEFF4">&quot;</span></span>
<span class="line"><span style="color:#81A1C1">/&gt;</span></span>
<span class="line"></span></code></pre></div>
<p>子组件中声明自定义事件:</p>
<div class="language-javascript"><div class="highlight-tools"><span class="lang">javascript</span></div><pre class="shiki nord" style="background-color:#2e3440ff" tabindex="0"><code><span class="line"><span style="color:#81A1C1">&lt;script&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">  export default </span><span style="color:#81A1C1">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#D8DEE9">emits</span><span style="color:#D8DEE9FF">: [</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">close</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#D8DEE9FF">]</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#81A1C1">}</span></span>
<span class="line"><span style="color:#81A1C1">&lt;/script&gt;</span></span>
<span class="line"></span></code></pre></div>
<ol start="5">
<li>移除过滤器（filter）<br/>
过滤器虽然这看起来很方便，但它需要一个自定义语法，打破大括号内表达式是 “只是 JavaScript” 的假设，这不仅有学习成本，而且有实现成本！建议用方法调用或计算属性去替换过滤器。</li>
</ol></div><div class="_post-copyright_zsltx_103"><div class="_post-copyright-item_zsltx_125"><span>文章作者：</span><span><a href="/fispo/">XXX17</a></span></div><div class="_post-copyright-item_zsltx_125"><span>文章链接：</span><span><a href="/fispo/"></a></span></div><div class="_post-copyright-item_zsltx_125"><span>版权声明：</span><span>本博客所有文章除特别声明外，均采用<a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank" rel="noopener noreferrer">CC BY-NC-SA 4.0</a>许可协议。转载请注明来自<a href="/fispo/">XXX17的个人博客</a>！</span></div></div><div class="_article-tag_zsltx_138"><span><a href="/fispo/tag/笔记">笔记</a></span><span><a href="/fispo/tag/vue">vue</a></span></div></div></div><div class="_mainRight_1g63m_38"><div class="_sidebar_18neh_1"><div class="_card_5w79l_1"><div class="_author_5w79l_21"><div class="_avatar_5w79l_12"><img src="/avatar.jpg"/></div><h2 class="_author-name_5w79l_26">XXX17</h2><p class="_author-description_5w79l_31">学无止境</p><div class="_author-data_5w79l_34"><a href="/fispo/"><span>文章</span><span>9</span></a><a href="/fispo/tag"><span>标签</span><span>4</span></a><a href="/fispo/category"><span>分类</span><span>2</span></a></div><button class="_follow-btn_5w79l_53"><a href="/fispo/" target="_blank" rel="noreferrer">Follow me</a></button></div></div><div class="_card_5w79l_1"><div class="_card-announcement_5w79l_84"><div class="_header_5w79l_75">公告</div><p></p></div></div><div class="_stickyLayout_18neh_8" style="top:20px"><div class="_card_5w79l_1"><div class="_card-toc_5w79l_151"><div class="_header_5w79l_75"><span>目录</span><span class="_progress_5w79l_155">0</span></div><div class="_content_5w79l_162"><ul><li class="_active_5w79l_178" style="margin-left:0px"><a href="/fispo/#vue3简介"><span>1. </span><span>Vue3简介</span></a></li><li class="" style="margin-left:0px"><a href="/fispo/#创建vue30工程"><span>2. </span><span>创建Vue3.0工程</span></a></li><li class="" style="margin-left:20px"><a href="/fispo/#使用-vue-cli-创建a-hrefhttpsclivuejsorgzhguidecreating-a-projecthtmlvue-create官方文档vue-createa"><span>2.1. </span><span>使用 vue-cli 创建（&lt;a href=&quot;https://cli.vuejs.org/zh/guide/creating-a-project.html#vue-create&quot;&gt;官方文档vue-create&lt;/a&gt;）</span></a></li><li class="" style="margin-left:20px"><a href="/fispo/#使用-vite-创建a-hrefhttpsv3cnvuejsorgguideinstallationhtmlvite官方文档vitea"><span>2.2. </span><span>使用 vite 创建（&lt;a href=&quot;https://v3.cn.vuejs.org/guide/installation.html#vite&quot;&gt;官方文档vite&lt;/a&gt;）</span></a></li><li class="" style="margin-left:0px"><a href="/fispo/#分析文件目录"><span>3. </span><span>分析文件目录</span></a></li><li class="" style="margin-left:20px"><a href="/fispo/#mainjs"><span>3.1. </span><span>main.js</span></a></li><li class="" style="margin-left:20px"><a href="/fispo/#appvue"><span>3.2. </span><span>App.vue</span></a></li><li class="" style="margin-left:0px"><a href="/fispo/#常用-composition-api"><span>4. </span><span>常用 Composition API</span></a></li><li class="" style="margin-left:20px"><a href="/fispo/#setup"><span>4.1. </span><span>setup</span></a></li><li class="" style="margin-left:20px"><a href="/fispo/#ref函数"><span>4.2. </span><span>ref函数</span></a></li><li class="" style="margin-left:20px"><a href="/fispo/#reactive函数"><span>4.3. </span><span>reactive函数</span></a></li><li class="" style="margin-left:20px"><a href="/fispo/#vue3中的响应式原理"><span>4.4. </span><span>Vue3中的响应式原理</span></a></li><li class="" style="margin-left:20px"><a href="/fispo/#reactive对比ref"><span>4.5. </span><span>reactive对比ref</span></a></li><li class="" style="margin-left:20px"><a href="/fispo/#setup的两个注意点"><span>4.6. </span><span>setup的两个注意点</span></a></li><li class="" style="margin-left:20px"><a href="/fispo/#计算属性与监视"><span>4.7. </span><span>计算属性与监视</span></a></li><li class="" style="margin-left:40px"><a href="/fispo/#computed函数"><span>4.7.1. </span><span>computed函数</span></a></li><li class="" style="margin-left:40px"><a href="/fispo/#watch函数"><span>4.7.2. </span><span>watch函数</span></a></li><li class="" style="margin-left:40px"><a href="/fispo/#watcheffect函数"><span>4.7.3. </span><span>watchEffect函数</span></a></li><li class="" style="margin-left:20px"><a href="/fispo/#vue3生命周期"><span>4.8. </span><span>Vue3生命周期</span></a></li><li class="" style="margin-left:20px"><a href="/fispo/#自定义hook函数"><span>4.9. </span><span>自定义hook函数</span></a></li><li class="" style="margin-left:20px"><a href="/fispo/#toref"><span>4.10. </span><span>toRef</span></a></li><li class="" style="margin-left:0px"><a href="/fispo/#其它-composition-api组合api"><span>5. </span><span>其它 Composition API（组合API）</span></a></li><li class="" style="margin-left:20px"><a href="/fispo/#shallowreactive-与-shallowref"><span>5.1. </span><span>shallowReactive 与 shallowRef</span></a></li><li class="" style="margin-left:20px"><a href="/fispo/#readonly-与-shallowreadonly"><span>5.2. </span><span>readonly 与 shallowReadonly</span></a></li><li class="" style="margin-left:20px"><a href="/fispo/#toraw-与-markraw"><span>5.3. </span><span>toRaw 与 markRaw</span></a></li><li class="" style="margin-left:20px"><a href="/fispo/#customref"><span>5.4. </span><span>customRef</span></a></li><li class="" style="margin-left:20px"><a href="/fispo/#provide-与-inject"><span>5.5. </span><span>provide 与 inject</span></a></li><li class="" style="margin-left:20px"><a href="/fispo/#响应式数据的判断api"><span>5.6. </span><span>响应式数据的判断API</span></a></li><li class="" style="margin-left:0px"><a href="/fispo/#composition-api-的优势"><span>6. </span><span>Composition API 的优势</span></a></li><li class="" style="margin-left:20px"><a href="/fispo/#options-api配置项api-存在的问题vue2"><span>6.1. </span><span>Options API(配置项API) 存在的问题（Vue2）</span></a></li><li class="" style="margin-left:20px"><a href="/fispo/#composition-api组合api-的优势vue3"><span>6.2. </span><span>Composition API(组合API) 的优势（Vue3）</span></a></li><li class="" style="margin-left:0px"><a href="/fispo/#新的组件"><span>7. </span><span>新的组件</span></a></li><li class="" style="margin-left:20px"><a href="/fispo/#fragment"><span>7.1. </span><span>Fragment</span></a></li><li class="" style="margin-left:20px"><a href="/fispo/#teleport标签"><span>7.2. </span><span>Teleport(标签)</span></a></li><li class="" style="margin-left:20px"><a href="/fispo/#suspense标签"><span>7.3. </span><span>Suspense（标签）</span></a></li><li class="" style="margin-left:0px"><a href="/fispo/#其他"><span>8. </span><span>其他</span></a></li><li class="" style="margin-left:20px"><a href="/fispo/#全局api的转移"><span>8.1. </span><span>全局API的转移</span></a></li><li class="" style="margin-left:20px"><a href="/fispo/#其他改变"><span>8.2. </span><span>其他改变</span></a></li></ul></div></div></div><div class="_card_5w79l_1"><div class="_card-article_5w79l_87"><div class="_header_5w79l_75">最新文章</div><ul class="_list_5w79l_112"><li><div class="_left_5w79l_118"><a href="/fispo/post/%E6%90%AD%E5%BB%BA%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8"><img src="/cover/a.png" alt=""/></a></div><div class="_right_5w79l_131"><a href="/fispo/post/%E6%90%AD%E5%BB%BA%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8"><span class="_title_5w79l_137">搭建云服务器</span></a><span class="_time_5w79l_146">2023-07-14</span></div></li><li><div class="_left_5w79l_118"><a href="/fispo/post/%E6%95%B0%E7%BB%84sort()%E8%AF%A6%E8%A7%A3"><img src="/cover/b.png" alt=""/></a></div><div class="_right_5w79l_131"><a href="/fispo/post/%E6%95%B0%E7%BB%84sort()%E8%AF%A6%E8%A7%A3"><span class="_title_5w79l_137">数组sort()详解</span></a><span class="_time_5w79l_146">2023-04-15</span></div></li><li><div class="_left_5w79l_118"><a href="/fispo/post/vue3%E7%AC%94%E8%AE%B0%EF%BC%88%E5%9B%9B%EF%BC%89"><img src="/cover/f.png" alt=""/></a></div><div class="_right_5w79l_131"><a href="/fispo/post/vue3%E7%AC%94%E8%AE%B0%EF%BC%88%E5%9B%9B%EF%BC%89"><span class="_title_5w79l_137">vue3笔记（四）</span></a><span class="_time_5w79l_146">2023-02-27</span></div></li><li><div class="_left_5w79l_118"><a href="/fispo/post/vue%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%89%EF%BC%89"><img src="/cover/h.png" alt=""/></a></div><div class="_right_5w79l_131"><a href="/fispo/post/vue%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%89%EF%BC%89"><span class="_title_5w79l_137">vue笔记（三）</span></a><span class="_time_5w79l_146">2023-01-05</span></div></li><li><div class="_left_5w79l_118"><a href="/fispo/post/vue%E7%AC%94%E8%AE%B0%EF%BC%88%E4%BA%8C%EF%BC%89"><img src="/cover/g.png" alt=""/></a></div><div class="_right_5w79l_131"><a href="/fispo/post/vue%E7%AC%94%E8%AE%B0%EF%BC%88%E4%BA%8C%EF%BC%89"><span class="_title_5w79l_137">vue笔记（二）</span></a><span class="_time_5w79l_146">2022-12-30</span></div></li></ul></div></div></div></div></div></div></main><div class="_rightSide_g11mb_1 _rightSide-hide_g11mb_30"><div class="_rightSide-settings_g11mb_8 _rightSide-hide_g11mb_30"><div class="_rightSide-item_g11mb_14" title="深色和浅色模式切换"></div><div class="_rightSide-item_g11mb_14" title="单栏和双栏的切换"></div></div><div class="_rightSide-item_g11mb_14" title="设置"></div><div class="_rightSide-item_g11mb_14" title="回到顶部"></div></div><footer class="_footer_iuxfi_1"><div class="_footerInner_iuxfi_8" style="background-image:url(/banner.png)"><p>©2020 - 2023 By XXX17</p><p class="_framework-info_iuxfi_32"><span>框架</span><a href="https://github.com/GitHubxxx17/fispo" target="_blank" rel="noopener noreferrer">Fispo</a><span>|</span><span>主题</span><a href="https://github.com/GitHubxxx17/fispo" target="_blank" rel="noopener noreferrer">fish-in-pool</a></p></div></footer></div></div>
    <script type="module" src="/fispo/assets/client-entry-r9WH_oU0.js"></script>
  </body>
</html>